(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{116:function(e,t,c){},125:function(e,t,c){},126:function(e,t,c){},127:function(e,t,c){},128:function(e,t,c){},129:function(e,t,c){},130:function(e,t,c){},131:function(e,t,c){},132:function(e,t,c){},137:function(e,t,c){},138:function(e,t,c){},139:function(e,t,c){},140:function(e,t,c){},141:function(e,t,c){},142:function(e,t,c){},143:function(e,t,c){},147:function(e,t,c){},148:function(e,t,c){},150:function(e,t,c){"use strict";c.r(t);var a,n=c(1),s=c.n(n),r=c(12),i=c.n(r),o=(c(97),c(3)),l=c(9),d=c(24),u=c.n(d),j=function e(){var t=this;Object(l.a)(this,e),this.signup=function(e,c){return t.app.post("/signup",{email:e,pwd:c})},this.login=function(e,c){return t.app.post("/login",{email:e,pwd:c})},this.logout=function(){return t.app.get("/logout")},this.isloggedin=function(){return t.app.get("/isloggedin")},this.app=u.a.create({baseURL:"".concat("https://mienteme.herokuapp.com/api"),withCredentials:!0})},b=c(16),h=c(6),m=(c(116),c(0));var O,f=function(){var e=Object(n.useState)(!1),t=Object(o.a)(e,2),c=t[0],s=t[1];return Object(n.useEffect)((function(){window.addEventListener("beforeinstallprompt",(function(e){e.preventDefault(),a=e,s(!0)})),window.addEventListener("appinstalled",(function(){alert.run({type:"success",msg:"App Installed! \ud83d\udcbb"})}))}),[]),Object(m.jsx)(m.Fragment,{children:c&&Object(m.jsx)("div",{style:{textAlign:"center"},children:Object(m.jsx)("div",{className:"install-button",onClick:function(e){s(!1),a.prompt(),a.userChoice.then((function(e){"accepted"===e.outcome?console.log("User accepted the install prompt"):console.log("User dismissed the install prompt")}))},children:"Instalar App"})})})},x=function(e){return Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)("div",{style:{backgroundSize:"cover",height:"100vh",display:"flex",justifyContent:"center",flexDirection:"Column",alignItems:"center"},children:[Object(m.jsx)("div",{className:"project-logo-container",children:Object(m.jsx)("div",{className:"project-logo-box",children:Object(m.jsx)("img",{className:"project-logo-big",src:"https://cdn-icons-png.flaticon.com/512/3798/3798376.png"})})}),Object(m.jsx)("h1",{style:{color:"rgba(255, 172, 201, 0.8)",marginBottom:"90px"},children:Object(m.jsx)("strong",{children:"mi\xe9nteme"})}),Object(m.jsx)(h.b,{to:"/signup",className:"no-dec",children:Object(m.jsx)("h2",{className:"home-page",children:"Reg\xedstrate"})}),Object(m.jsx)(h.b,{to:"/login",className:"no-dec",children:Object(m.jsx)("h2",{className:"home-page",children:"Inicia sesi\xf3n"})}),Object(m.jsx)(f,{})]})})},p=c(10),g=c(2),v=(c(125),s.a.createContext(!1)),N=v.Provider,C=v,y=new j,S=function(e){var t=Object(n.useState)({email:"",pwd:""}),c=Object(o.a)(t,2),a=c[0],s=c[1],r=Object(b.g)(),i=Object(n.useContext)(C).storeUser,l=function(e){var t=e.target,c=t.value,n=t.name;s(Object(g.a)(Object(g.a)({},a),{},Object(p.a)({},n,c)))};return Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)("div",{children:[Object(m.jsxs)("div",{className:"signup-header",children:[Object(m.jsx)("img",{className:"signup-img",src:"https://cdn-icons-png.flaticon.com/512/3798/3798376.png"}),Object(m.jsx)("h1",{className:"signup-h1",children:"mi\xe9nteme"})]}),Object(m.jsxs)("div",{className:"signup-container",children:[Object(m.jsx)("h2",{className:"signup-h2",children:"Reg\xedstrate"}),Object(m.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t=a.email,c=a.pwd;y.signup(t,c).then((function(e){i(e.data),r.push("/formulario"),s({email:"",pwd:""})})).catch((function(e){return function(e){return console.error(e)}}))},children:[Object(m.jsxs)("p",{className:"signup-subtitle",children:["Al hacer clic en Inicia Sesi\xf3n, aceptas nuestras ",Object(m.jsx)("a",{className:"signup-a",href:"#",children:"Condiciones"}),". Obt\xe9n m\xe1s informaci\xf3n sobre como procesamos tus datos en nuestra ",Object(m.jsx)("a",{className:"signup-a",href:"#",children:"Pol\xedtica de privacidad"})," y nuestra ",Object(m.jsx)("a",{className:"signup-a",href:"#",children:"Pol\xedtica de cookies"})]}),Object(m.jsxs)("div",{className:"signup-inputs",children:[Object(m.jsx)("label",{}),Object(m.jsx)("input",{className:"signup-singleInput",onChange:function(e){return l(e)},value:a.email,name:"email",type:"text",placeholder:"Correo electr\xf3nico"}),Object(m.jsx)("label",{}),Object(m.jsx)("input",{className:"signup-singleInput",onChange:function(e){return l(e)},value:a.pwd,name:"pwd",type:"password",placeholder:"Contrase\xf1a"})]}),Object(m.jsx)("div",{className:"signup-subcontainer",children:Object(m.jsx)("button",{className:"signup-button",children:"Registrarme"})}),Object(m.jsx)(h.b,{className:"signup-link-footer",to:"/login",children:"\xbfYa tienes una cuenta?"})]})]})]})})},k=(c(126),new j),P=function(e){var t=Object(n.useState)({email:"",pwd:""}),c=Object(o.a)(t,2),a=c[0],s=c[1],r=Object(b.g)(),i=Object(n.useContext)(C).storeUser;Object(n.useEffect)((function(){return function(){return l()}}),[]);var l=function(){s({email:"",pwd:""})},d=function(e){var t=e.target,c=t.name,n=t.value;s(Object(g.a)(Object(g.a)({},a),{},Object(p.a)({},c,n)))};return Object(m.jsxs)("div",{children:[Object(m.jsxs)("div",{className:"login-header",children:[Object(m.jsx)("img",{className:"login-img",src:"https://cdn-icons-png.flaticon.com/512/3798/3798376.png"}),Object(m.jsx)("h1",{className:"login-h1",children:"mi\xe9nteme"})]}),Object(m.jsxs)("div",{className:"login-container",children:[Object(m.jsx)("h2",{className:"login-h2",children:"Inicia sesi\xf3n"}),Object(m.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t=a.email,c=a.pwd;k.login(t,c).then((function(e){i(e.data),r.push("/click-me")})).catch((function(e){return console.error(e)}))},children:[Object(m.jsxs)("div",{className:"login-inputs",children:[Object(m.jsx)("label",{}),Object(m.jsx)("input",{className:"login-singleInput",onChange:function(e){return d(e)},value:a.email,name:"email",type:"text",placeholder:"Correo electr\xf3nico"}),Object(m.jsx)("label",{}),Object(m.jsx)("input",{className:"login-singleInput",onChange:function(e){return d(e)},value:a.pwd,name:"pwd",type:"password",placeholder:"Contrase\xf1a"})]}),Object(m.jsx)("div",{className:"login-subcontainer",children:Object(m.jsx)("button",{className:"login-button",children:"Iniciar sesi\xf3n"})})]})]})]})},E=function(e){e.storeUser,e.loggedUser,e.fetchUser;return Object(m.jsxs)(b.d,{children:[Object(m.jsx)(b.b,{path:"/",exact:!0,render:function(){return Object(m.jsx)(x,{})}}),Object(m.jsx)(b.b,{path:"/signup",render:function(e){return Object(m.jsx)(S,{})}}),Object(m.jsx)(b.b,{path:"/login",render:function(e){return Object(m.jsx)(P,{})}})]})},w=function e(){var t=this;Object(l.a)(this,e),this.getAllUsers=function(){return t.app.get("/allUsers")},this.getOneUser=function(e){return t.app.get("/profile/".concat(e))},this.editProfile=function(e,c){return t.app.post("/profile/".concat(e,"/edit-profile"),c)},this.deleteProfile=function(e,c){return t.app.delete("/delete-profile/".concat(e),c)},this.app=u.a.create({baseURL:"".concat("https://mienteme.herokuapp.com/api","/people"),withCredentials:!0})},I=(c(127),function e(){var t=this;Object(l.a)(this,e),this.uploadImage=function(e){return t.app.post("/image",e)},this.app=u.a.create({baseURL:"".concat("https://mienteme.herokuapp.com/api","/upload")})}),A=c(156),D=new w,F=new I,T=function(){var e=Object(b.g)(),t=Object(n.useContext)(C),c=t.loggedUser,a=t.storeUser,s=Object(n.useState)({username:"",profileImages:"",age:"",gender:"",bio:"",genderFilter:"BOTH",ageFirstFilter:void 0,ageSecondFilter:void 0,city:"MADRID",questionTrue:"",questionFalse:"",clue:"",loading:!1}),r=Object(o.a)(s,2),i=r[0],l=r[1];Object(n.useEffect)((function(){l({username:null===c||void 0===c?void 0:c.username,profileImages:"",age:null===c||void 0===c?void 0:c.age,genre:null===c||void 0===c?void 0:c.gender,bio:null===c||void 0===c?void 0:c.bio,genderFilter:null===c||void 0===c?void 0:c.filter.genderFilter,ageFirstFilter:null===c||void 0===c?void 0:c.filter.ageFilter[0],ageSecondFilter:null===c||void 0===c?void 0:c.filter.ageFilter[1],ageFilter:null===c||void 0===c?void 0:c.filter.ageFilter,cityFilter:null===c||void 0===c?void 0:c.filter.cityFilter,city:null===c||void 0===c?void 0:c.city,questionTrue:null===c||void 0===c?void 0:c.questionTrue,questionFalse:null===c||void 0===c?void 0:c.questionFalse,clue:null===c||void 0===c?void 0:c.clue})}),[c]);var d=function(e){var t=e.target,c=t.name,a=t.value;l(Object(g.a)(Object(g.a)({},i),{},Object(p.a)({},c,a)))};return Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)("div",{className:"",children:[Object(m.jsx)("h3",{className:"editProfile-h3",children:"Editar Perfil"}),Object(m.jsxs)(A.a,{className:"editProfile-container",onSubmit:function(t){t.preventDefault(),D.editProfile(c._id,i).then((function(t){console.log("EDITANDO CON \xc9XITO",t.data),a(t.data),l({username:"",profileImages:"",age:void 0,gender:"",bio:"",genderFilter:"",ageFirstFilter:"",ageSecondFilter:"",cityFilter:"",city:"",questionTrue:"",questionFalse:"",clue:"",loading:!1}),e.push("/perfil")})).catch((function(e){return console.error(e)}))},children:[Object(m.jsxs)(A.a.Group,{className:"mb-3",controlId:"formBasicEmail",children:[Object(m.jsx)("div",{className:"editProfile-data",children:"Nombre"}),Object(m.jsx)(A.a.Control,{className:"editProfile-input",name:"username",value:i.username,onChange:function(e){return d(e)},type:"text",placeholder:"Nombre de usuario"})]}),Object(m.jsxs)(A.a.Group,{className:"mb-3",controlId:"formBasicPassword",children:[Object(m.jsx)("div",{className:"editProfile-data",children:"Imagen de perfil"}),Object(m.jsx)(A.a.Control,{name:"editProfile-image",onChange:function(e){return function(e){l(Object(g.a)(Object(g.a)({},i),{},{loading:!0}));var t=new FormData;t.append("imageData",e.target.files[0]),F.uploadImage(t).then((function(e){return l(Object(g.a)(Object(g.a)({},i),{},{loading:!1,profileImages:e.data.cloudinary_url}))})).catch((function(e){return console.error(e)}))}(e)},type:"file"})]}),Object(m.jsxs)(A.a.Group,{className:"mb-3",controlId:"formBasicCheckbox",children:[Object(m.jsx)("div",{className:"editProfile-data",children:"Edad"}),Object(m.jsx)(A.a.Control,{className:"editProfile-input",name:"age",value:i.age,onChange:function(e){return d(e)},type:"number",placeholder:"Edad"})]}),Object(m.jsxs)(A.a.Group,{className:"mb-3",controlId:"formBasicCheckbox",children:[Object(m.jsx)("div",{className:"editProfile-data",children:"Bio"}),Object(m.jsx)(A.a.Control,{className:"editProfile-input",name:"bio",value:i.bio,onChange:function(e){return d(e)},type:"textarea",placeholder:"Acerca de m\xed"})]}),Object(m.jsxs)(A.a.Group,{className:"mb-3",controlId:"formBasicCheckbox",children:[Object(m.jsx)("div",{className:"editProfile-data",children:"Ciudad"}),Object(m.jsx)(A.a.Control,{className:"editProfile-input",name:"city",value:i.city,onChange:function(e){return d(e)},type:"text",placeholder:"Ciudad"})]}),Object(m.jsxs)(A.a.Group,{className:"mb-3",controlId:"formBasicCheckbox",children:[Object(m.jsx)("div",{className:"editProfile-data",children:"Escribe una verdad sobre ti"}),Object(m.jsx)(A.a.Control,{className:"editProfile-input",name:"questionTrue",value:i.questionTrue,onChange:function(e){return d(e)},type:"text",placeholder:"Escribe una verdad sobre ti"})]}),Object(m.jsxs)(A.a.Group,{className:"mb-3",controlId:"formBasicCheckbox",children:[Object(m.jsx)("div",{className:"editProfile-data",children:"Escribe una mentira sobre ti"}),Object(m.jsx)(A.a.Control,{className:"editProfile-input",name:"questionFalse",value:i.questionFalse,onChange:function(e){return d(e)},type:"text",placeholder:"Escribe una mentira sobre ti"})]}),Object(m.jsxs)(A.a.Group,{className:"mb-3",controlId:"formBasicCheckbox",children:[Object(m.jsx)("div",{className:"editProfile-data",children:"Da una pista"}),Object(m.jsx)(A.a.Control,{className:"editProfile-input",name:"clue",value:i.clue,onChange:function(e){return d(e)},type:"text",placeholder:"Da una pista..."})]}),Object(m.jsx)("h3",{className:"editProfile-h3",children:"\xbfCon qui\xe9n quieres quedar?"}),Object(m.jsxs)("div",{className:"checkbox",children:[Object(m.jsxs)(A.a.Group,{className:"mb-3",controlId:"formBasicCheckbox",children:[Object(m.jsx)("p",{className:"editProfile-gender",children:"Mujeres"}),Object(m.jsx)(A.a.Check,{className:"editProfile-checkbox",name:"genderFilter",value:"WOMAN",onChange:function(e){return d(e)},type:"radio"})]}),Object(m.jsxs)(A.a.Group,{className:"mb-3",controlId:"formBasicCheckbox",children:[Object(m.jsx)("p",{className:"editProfile-gender",children:"Hombres"}),Object(m.jsx)(A.a.Check,{className:"editProfile-checkbox",name:"genderFilter",value:"MAN",onChange:function(e){return d(e)},type:"radio"})]}),Object(m.jsxs)(A.a.Group,{className:"mb-3",controlId:"formBasicCheckbox",children:[Object(m.jsx)("p",{className:"editProfile-gender",children:"Ambos"}),Object(m.jsx)(A.a.Check,{className:"editProfile-checkbox",name:"genderFilter",value:"BOTH",onChange:function(e){return d(e)},type:"radio"})]})]}),Object(m.jsxs)(A.a.Group,{className:"mb-3",controlId:"formBasicCheckbox",children:[" ",Object(m.jsx)("p",{className:"editProfile-data"}),Object(m.jsx)("p",{className:"editProfile-data",children:"Rango de edad"}),Object(m.jsx)("p",{className:"editProfile-data",children:"Desde:"}),Object(m.jsx)(A.a.Control,{className:"editProfile-input",name:"ageFirstFilter",value:i.ageFirstFilter,onChange:function(e){return d(e)},type:"number",placeholder:"Filtra por edad(introduce un n\xfamero)"})]}),Object(m.jsxs)(A.a.Group,{className:"mb-3",controlId:"formBasicCheckbox",children:[Object(m.jsx)("p",{className:"editProfile-data",children:"Hasta:"}),Object(m.jsx)(A.a.Control,{className:"editProfile-input",name:"ageSecondFilter",value:i.ageSecondFilter,onChange:function(e){return d(e)},type:"number",placeholder:"Filtra por edad(introduce un n\xfamero)"})]}),Object(m.jsxs)(A.a.Group,{className:"mb-3",controlId:"formBasicCheckbox",children:[Object(m.jsx)("div",{className:"editProfile-data",children:"Filtra por ciudad"}),Object(m.jsx)(A.a.Control,{className:"editProfile-input",name:"cityFilter",value:i.cityFilter,onChange:function(e){return d(e)},type:"text",placeholder:"Por ciudad..."})]}),Object(m.jsx)("div",{className:"editProfile-button-container",children:Object(m.jsx)("button",{className:"editProfile-button",children:"Editar"})})]})]})})},M=(c(77),function e(){var t=this;Object(l.a)(this,e),this.getAllRequestPending=function(){return t.app.get("/allRequestPending")},this.getRequestCreatedForMe=function(){return t.app.get("/myRequestsCreated")},this.getAllSecondsOpportunities=function(){return t.app.get("/allSecondsOpportunities")},this.getOneRequest=function(e){return t.app.get("/oneRequest")},this.create=function(e,c){return t.app.post("/create/".concat(e),c)},this.answer=function(e,c){return t.app.put("/".concat(e),c)},this.delete=function(e){return t.app.delete("/".concat(e))},this.app=u.a.create({baseURL:"".concat("https://mienteme.herokuapp.com/api","/request"),withCredentials:!0})}),B=function e(){var t=this;Object(l.a)(this,e),this.getAllDates=function(){return t.app.get("/")},this.createDate=function(e,c){return t.app.post("/new/".concat(c),e)},this.editDate=function(e,c){return t.app.post("/edit-date/".concat(e),c)},this.getOwnDates=function(e){return t.app.get("/mydates/".concat(e))},this.getUserDates=function(e){return t.app.get("/its-dates/".concat(e))},this.getByCategory=function(e){return t.app.get("/categoria/".concat(e))},this.getByCity=function(e){return t.app.get("/?city=".concat(e))},this.getByDay=function(e){return t.app.get("/byday-dates",e)},this.deleteDate=function(e){return t.app.delete("/delete/".concat(e))},this.app=u.a.create({baseURL:"".concat("https://mienteme.herokuapp.com/api","/dates")})},R=new B,U=function(e){var t=Object(n.useState)([]),c=Object(o.a)(t,2),a=c[0],s=c[1];Object(n.useEffect)((function(){r()}),[e.user]);var r=function(){R.getUserDates(e.user._id).then((function(e){s(e.data)})).catch((function(e){return console.log("hay un error al conseguir las citas del otro en el front",e)}))};return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)("div",{className:"userCard-dates-home",children:[e.secondOpor?Object(m.jsxs)("p",{className:"userCard-date-title",children:[e.user.username," te ha dado una segunda oportunidad"]}):Object(m.jsxs)("p",{className:"userCard-date-title",children:["Citas de ",e.user.username]}),Object(m.jsx)("p",{className:"userCard-date-title",children:e.user.city})]}),Object(m.jsx)("div",{className:"userCard-detail-date-home",children:null===a||void 0===a?void 0:a.map((function(t,c){return Object(m.jsx)("div",{children:Object(m.jsxs)("div",{onClick:function(){return e.chooseDate(t)},className:"userCard-detail-date",children:[Object(m.jsx)("p",{className:"userCard-detail-date-name",children:t.nameDate}),Object(m.jsx)("p",{className:"userCard-detail-date-description",children:t.description}),Object(m.jsx)("div",{className:"userCard-detail-date-category-content",children:Object(m.jsx)("p",{className:"userCard-detail-date-category",children:t.category})})]})},c)}))})]})},_=function(e){return Object(m.jsxs)("div",{className:"userCard-subcontainer",children:[Object(m.jsx)("img",{className:"userCard-img",src:e.user.profileImages}),Object(m.jsxs)("div",{className:"userCard-info-container",children:[Object(m.jsxs)("div",{className:"userCard-info-1",children:[Object(m.jsx)("p",{className:"userCard-name",children:e.user.username}),Object(m.jsx)("p",{className:"userCard-age",children:e.user.age})]}),Object(m.jsx)("p",{className:"userCard-bio",children:e.user.bio})]})]})},q=function(e){return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)("p",{className:"userCard-request-title",children:[e.user.username," fall\xf3 la mentira"]}),Object(m.jsx)("div",{className:"userCard-request-date",children:Object(m.jsxs)("div",{className:"userCard-request-box",children:[Object(m.jsx)("p",{className:"userCard-request-name",children:e.dateSelected.nameDate}),Object(m.jsx)("p",{className:"userCard-request-description",children:e.dateSelected.description}),Object(m.jsx)("div",{className:"userCard-request-category-content",children:Object(m.jsx)("p",{className:"userCard-request-category",children:e.dateSelected.category})})]})}),Object(m.jsxs)("p",{className:"userCard-request-again",children:["\xbfQuieres darle una ",Object(m.jsx)("br",{})," segunda oportunidad?"]}),Object(m.jsxs)("div",{className:"userCard-request-buttons",children:[Object(m.jsx)("button",{className:"userCard-request-button",onClick:function(){return e.deleteRequest()},children:"No"}),Object(m.jsx)("button",{className:"userCard-request-button",onClick:function(){return e.editRequestYes("YES")},children:"S\xed"})]})]})},G=function e(){var t=this;Object(l.a)(this,e),this.getAllConversations=function(){return t.app.get("/")},this.create=function(e,c){return t.app.post("/create/".concat(e),c)},this.getOne=function(e){return t.app.get("private/".concat(e))},this.delete=function(e){return t.app.delete("/".concat(e))},this.app=u.a.create({baseURL:"".concat("https://mienteme.herokuapp.com/api","/conversation"),withCredentials:!0})},L=c(155),H=function(e){return Object(m.jsxs)(L.a,{show:e.trivial,backdrop:"static",onHide:e.closeModalTrivial,className:"userCard-trivial-container",children:[Object(m.jsx)(L.a.Title,{children:Object(m.jsx)("p",{className:"userCard-trivial-header",children:"\xbfCu\xe1l es la mentira?"})}),Object(m.jsx)(L.a.Body,{children:Object(m.jsxs)("div",{className:"userCard-trivial-subcontainer",children:[Object(m.jsx)("div",{onClick:function(){return e.openWrong()},className:"",children:Object(m.jsx)("div",{className:"userCard-trivial-box",children:Object(m.jsx)("p",{className:"userCard-trivial-text",children:e.user.questionTrue})})}),Object(m.jsx)("div",{onClick:function(){return e.createConversation()},className:"",children:Object(m.jsx)("div",{className:"userCard-trivial-box",children:Object(m.jsx)("p",{className:"userCard-trivial-text",children:e.user.questionFalse})})}),!e.alreadyClue&&Object(m.jsx)("div",{onClick:function(){return e.clueModal()},className:"",children:Object(m.jsx)("div",{className:"userCard-trivial-box",children:Object(m.jsx)("p",{className:"userCard-trivial-text",children:"Pista"})})})]})})]})},W=function(e){return Object(m.jsxs)(L.a,{show:e.trivial,backdrop:"static",onHide:e.closeModalTrivial,className:"userCard-trivial-container",children:[Object(m.jsx)(L.a.Title,{children:Object(m.jsx)("p",{className:"userCard-trivial-header",children:"\xbfCu\xe1l es la mentira?"})}),Object(m.jsx)(L.a.Body,{children:Object(m.jsxs)("div",{className:"userCard-trivial-subcontainer",children:[Object(m.jsx)("div",{onClick:function(){return e.createConversation()},className:"",children:Object(m.jsx)("div",{className:"userCard-trivial-box",children:Object(m.jsx)("p",{className:"userCard-trivial-text",children:e.user.questionFalse})})}),Object(m.jsx)("div",{onClick:function(){return e.openWrong()},className:"",children:Object(m.jsx)("div",{className:"userCard-trivial-box",children:Object(m.jsx)("p",{className:"userCard-trivial-text",children:e.user.questionTrue})})}),!e.alreadyClue&&Object(m.jsx)("div",{onClick:function(){return e.clueModal()},className:"",children:Object(m.jsx)("div",{className:"userCard-trivial-box",children:Object(m.jsx)("p",{className:"userCard-trivial-text",children:"Pista"})})})]})})]})},Y=function(e){return Object(m.jsxs)(L.a,{show:e.success,backdrop:"static",className:"userCard-correctTrivial-container",onHide:e.closeModalSuccess,children:[Object(m.jsxs)(L.a.Title,{children:[" ",Object(m.jsx)("p",{className:"userCard-correctTrivial-title",children:"\xa1\xa1\xa1Correcto!!!"})," "]}),Object(m.jsx)(L.a.Body,{children:Object(m.jsxs)("div",{className:"userCard-correctTrivial-subcontainer",children:[Object(m.jsx)(h.b,{className:"userCard-correctTrivial-chat",to:"/chat/".concat(e.conversation,"/").concat(e.user._id),children:Object(m.jsxs)("p",{children:["Chatea con ",e.user.username]})}),Object(m.jsx)(h.b,{to:"/click-me",style:{margin:"10px"},children:Object(m.jsx)("button",{className:"userCard-correctTrivial-button",onClick:function(){return e.nextUser()},children:"M\xe1s tarde"})})]})})]})},V=function(e){return Object(m.jsxs)(L.a,{show:e.wrong,backdrop:"static",onHide:e.closeModalWrong,children:[Object(m.jsxs)(L.a.Title,{children:[" ",Object(m.jsxs)("p",{className:"userCard-wrongTrivial-title",children:["Fallaste, \xbfQuieres pedirle a ",e.user.username," una segunda oportunidad?"]})]}),Object(m.jsx)(L.a.Body,{children:Object(m.jsxs)("div",{className:"userCard-wrongTrivial-buttons",children:[Object(m.jsx)("button",{className:"userCard-wrongTrivial-button",onClick:function(){return e.createRequest()},children:"S\xed"}),Object(m.jsx)(h.b,{to:"/click-me",style:{margin:"10px"},children:Object(m.jsx)("button",{className:"userCard-wrongTrivial-button",onClick:function(){return e.nextUser()},children:"No"})})]})})]})},Q=function(e){return Object(m.jsxs)(L.a,{show:e.clue,backdrop:"static",className:"userCard-correctTrivial-container",onHide:e.closeModalClue,children:[Object(m.jsxs)(L.a.Title,{className:"userCard-correctTrivial-title",children:["Pista",Object(m.jsx)("img",{className:"clue-picture",style:{width:"40px",heigth:"40px"},src:"https://cdn-icons-png.flaticon.com/512/3798/3798376.png",alt:"mienteme-icon"})]}),Object(m.jsx)(L.a.Body,{children:Object(m.jsxs)("div",{className:"userCard-trivial-subcontainer",children:[Object(m.jsx)("div",{className:"userCard-trivial-box",children:Object(m.jsx)("p",{className:"userCard-trivial-text",children:e.user.clue})}),Object(m.jsx)("div",{className:"userCard-trivial-box",onClick:function(){return e.closeModalClue()},children:" Ok"})]})})]})},z=function(e){return Object(m.jsxs)(L.a,{show:e.alreadyMatch,backdrop:"static",className:"userCard-correctTrivial-container",onHide:e.closeAlreadyMatch,children:[Object(m.jsx)(L.a.Header,{closeButton:!0,children:" Lo sentimos "}),Object(m.jsx)(L.a.Body,{children:Object(m.jsx)("p",{className:"userCard-trivial-text",children:"No puedes seleccionar otra cita, ya has hecho match con este usuario."})})]})},J=new M,X=new G,K=function(e){var t=Object(n.useState)([]),c=Object(o.a)(t,2),a=c[0],s=c[1],r=Object(n.useState)(!1),i=Object(o.a)(r,2),l=i[0],d=i[1],u=Object(n.useState)(!1),j=Object(o.a)(u,2),h=j[0],f=j[1],x=Object(n.useState)(!1),p=Object(o.a)(x,2),g=p[0],v=p[1],N=Object(n.useState)(!1),C=Object(o.a)(N,2),y=C[0],S=C[1],k=Object(n.useState)(!1),P=Object(o.a)(k,2),E=P[0],w=P[1],I=Object(n.useState)(!1),A=Object(o.a)(I,2),D=A[0],F=A[1],T=Object(n.useState)(!1),M=Object(o.a)(T,2),B=M[0],R=M[1],G=Object(b.g)();Object(n.useEffect)((function(){O=Math.floor(50*Math.random())}),[e.user]);var L=function(){d(!1)},K=function(){f(!1)},$=function(){d(!1),v(!0)},Z=function(){v(!1)},ee=function(){R(!0)},te=function(){Z(),K(),e.disableBtn?G.push("/click-me"):e.next()},ce=function(){w(!0),d(!1)},ae=function(){d(!1),f(!0),L(),F(!1);var t={idOtherUser:e.user._id};X.create(a._id,t).then((function(e){return S(e.data._id)})).catch((function(e){return console.log("hay un error crear conver en el front",e)}))};return console.log("props.dateSelected",e.dateSelected),Object(m.jsxs)("div",{className:"userCard-container",children:[Object(m.jsx)(_,{user:e.user}),!e.disableBtn&&Object(m.jsx)("div",{className:"userCard-button-container",children:Object(m.jsx)("button",{className:"userCard-button",onClick:function(){return e.next()},children:"Siguiente"})}),e.dateSelected?Object(m.jsx)(q,{user:e.user,dateSelected:e.dateSelected,deleteRequest:function(){console.log("BORRANDO LA PETICI\xd3N, PORQUE HE DICHO QUE NO",e.request),J.delete(e.request._id).then((function(t){console.log("BORRADA ==>",t.data),e.next()})).catch((function(e){return console.log("hay un error al BORRAR request en el front",e)}))},editRequestYes:function(t){var c={response:t};console.log("editando: LA REQUEST Y LA RESPUESTA",e.request,c),J.answer(e.request._id,c).then((function(t){console.log("EDITANDO REQUEST CON \xc9XITO==>",t.data),e.next()})).catch((function(e){return console.log("hay un error al modificar request en el front",e)}))}}):Object(m.jsx)(U,{user:e.user,chooseDate:function(t){e.disableTrivial?ee():d(!0),s(t)},secondOpor:e.secondOpor}),O%2!==0?Object(m.jsx)(H,{trivial:l,closeModalTrivial:L,openWrong:$,createConversation:ae,clueModal:ce,user:e.user}):Object(m.jsx)(W,{trivial:l,closeModalTrivial:L,openWrong:$,createConversation:ae,clueModal:ce,user:e.user}),Object(m.jsx)(Y,{success:h,closeModalSuccess:K,conversation:y,user:e.user,nextUser:te,alreadyClue:D}),Object(m.jsx)(V,{wrong:g,closeModalWrong:Z,alreadyClue:D,user:e.user,nextUser:te,createRequest:function(){J.create(a._id,e.user).then((function(e){F(!1),te(),console.log("creando la request ==>",e.data)})).catch((function(e){return console.log("hay un error al crear request en el front",e)}))}}),Object(m.jsx)(Q,{clue:E,closeModalClue:function(){w(!1),d(!0),F(!0)},user:e.user}),Object(m.jsx)(z,{alreadyMatch:B,closeAlreadyMatch:function(){R(!1)}})]})},$=(c(128),function(){var e=Object(n.useContext)(He).usersFiltered,t=Object(n.useState)(void 0),c=Object(o.a)(t,2),a=c[0],s=c[1];console.log("TODOS LOS USUARIOS: ",e),Object(n.useEffect)((function(){e&&r()}),[e]);var r=function(){var t=Math.floor(Math.random()*e.length),c=e.splice(t,1),a=Object(o.a)(c,1)[0];s(a)};return Object(m.jsx)(m.Fragment,{children:a?Object(m.jsx)(K,{user:a,next:function(){return r()}}):Object(m.jsx)("div",{className:"loggedUserHome-container",children:Object(m.jsxs)("h3",{className:"loggedUserHome-h3",children:["Hazte ",Object(m.jsx)(h.b,{className:"loggedUserHome-link",to:"/https://www.youtube.com/watch?v=zIY87vU33aA&t=17s",children:"PREMIUM"})," para seguir viendo perfiles"]})})})}),Z=new B,ee=function(e){var t=Object(b.g)(),c=Object(n.useContext)(C).loggedUser,a=Object(n.useState)({nameDate:"",description:"",city:"",category:"",day:""}),s=Object(o.a)(a,2),r=s[0],i=s[1];Object(n.useEffect)((function(){e.dateSelected?i({nameDate:e.dateSelected.nameDate,description:e.dateSelected.description,city:e.dateSelected.city,category:e.dateSelected.category,day:e.dateSelected.day}):i({nameDate:"",description:"",city:"",category:"",day:""})}),[]);var l=function(e){var t=e.target,c=t.name,a=t.value;i(Object(g.a)(Object(g.a)({},r),{},Object(p.a)({},c,a)))};return Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)(A.a,{onSubmit:function(a){a.preventDefault(),e.dateSelected?Z.editDate(e.dateSelected._id,r).then((function(t){e.closeModal(),console.log("BIEN! EDITANDO CITAS",t.data)})).catch((function(e){return console.error(e)})):Z.createDate(r,c._id).then((function(c){e.closeModal(),t.push("/perfil"),console.log("BIEN! CREANDO MI PRIMERA CITA",c.data)})).catch((function(e){return console.error(e)}))},children:[Object(m.jsxs)(A.a.Group,{className:"mb-3",controlId:"formBasicEmail",children:[Object(m.jsx)(A.a.Label,{}),Object(m.jsx)(A.a.Control,{name:"nameDate",value:r.nameDate,onChange:function(e){return l(e)},type:"text",placeholder:"Nombre de cita"})]}),Object(m.jsx)(A.a.Group,{className:"mb-3",controlId:"formBasicCheckbox",children:Object(m.jsx)(A.a.Control,{name:"description",value:r.description,onChange:function(e){return l(e)},type:"text",label:"",placeholder:"Descripci\xf3n"})}),Object(m.jsx)(A.a.Group,{className:"mb-3",controlId:"formBasicCheckbox",children:Object(m.jsx)(A.a.Control,{name:"city",value:r.city,onChange:function(e){return l(e)},type:"text",placeholder:"Ciudad"})}),Object(m.jsx)(A.a.Group,{className:"mb-3",controlId:"formBasicCheckbox",children:Object(m.jsx)(A.a.Control,{name:"day",value:r.day,onChange:function(e){return l(e)},type:"text",placeholder:"D\xeda"})}),Object(m.jsx)(A.a.Group,{className:"mb-3",controlId:"formBasicCheckbox",children:Object(m.jsx)(A.a.Control,{name:"category",value:r.category,onChange:function(e){return l(e)},type:"text",placeholder:"Categor\xeda"})}),e.dateSelected?Object(m.jsx)("button",{className:"signup",style:{cursor:"pointer"},children:"Editar"}):Object(m.jsx)("button",{className:"signup",style:{cursor:"pointer"},children:"Crear"})]})})},te=new I,ce=new w,ae=function(){var e=Object(b.g)(),t=Object(n.useState)(!1),c=Object(o.a)(t,2),a=c[0],s=c[1],r=Object(n.useContext)(C),i=r.loggedUser,l=r.storeUser,d=Object(n.useState)({username:"",profileImages:"",age:"",gender:"",bio:"",genderFilter:"BOTH",ageFirstFilter:void 0,ageSecondFilter:void 0,cityFilter:void 0,city:"MADRID",questionTrue:"",questionFalse:"",clue:"",loading:!1}),u=Object(o.a)(d,2),j=u[0],h=u[1],O=function(e){var t=e.target,c=t.name,a=t.value;h(Object(g.a)(Object(g.a)({},j),{},Object(p.a)({},c,a)))},f=function(){s(!0)},x=function(){s(!1),e.push("/click-me")};return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)(A.a,{className:"editProfile-container",onSubmit:function(e){e.preventDefault(),ce.editProfile(i._id,j).then((function(e){l(e.data),f()})).catch((function(e){return console.error(e)}))},children:[Object(m.jsx)("h1",{className:"editProfile-h3",children:"Crear perfil"}),Object(m.jsxs)(A.a.Group,{className:"mb-3",controlId:"formBasicEmail",children:[Object(m.jsx)("div",{className:"editProfile-data",children:"Username"}),Object(m.jsx)(A.a.Label,{}),Object(m.jsx)(A.a.Control,{className:"editProfile-input",name:"username",value:j.username,onChange:function(e){return O(e)},type:"text",placeholder:"Nombre de usuario"})]}),Object(m.jsxs)(A.a.Group,{className:"editProfile-data-container",controlId:"formBasicPassword",children:[Object(m.jsx)("div",{className:"editProfile-data",children:"Imagen"}),Object(m.jsx)(A.a.Label,{}),Object(m.jsx)(A.a.Control,{name:"profileImages",onChange:function(e){return function(e){h(Object(g.a)(Object(g.a)({},j),{},{loading:!0}));var t=new FormData;t.append("imageData",e.target.files[0]),te.uploadImage(t).then((function(e){return h(Object(g.a)(Object(g.a)({},j),{},{loading:!1,profileImages:e.data.cloudinary_url}))})).catch((function(e){return console.error(e)}))}(e)},type:"file"})]}),Object(m.jsxs)(A.a.Group,{className:"mb-3",controlId:"formBasicCheckbox",children:[Object(m.jsx)("div",{className:"editProfile-data",children:"Edad"}),Object(m.jsx)(A.a.Control,{className:"editProfile-input",name:"age",value:j.age,onChange:function(e){return O(e)},type:"number",placeholder:"Edad"})]}),Object(m.jsxs)(A.a.Group,{className:"mb-3",controlId:"formBasicCheckbox",children:[Object(m.jsx)("div",{className:"editProfile-data",children:"Bio"}),Object(m.jsx)(A.a.Control,{className:"editProfile-input",name:"bio",value:j.bio,onChange:function(e){return O(e)},type:"textarea",placeholder:"Acerca de m\xed"})]}),Object(m.jsxs)(A.a.Group,{className:"mb-3",controlId:"formBasicCheckbox",children:[Object(m.jsx)("div",{className:"editProfile-data",children:"Ciudad"}),Object(m.jsx)(A.a.Control,{className:"editProfile-input",name:"city",value:j.city,onChange:function(e){return O(e)},type:"text",placeholder:"Ciudad"})]}),Object(m.jsxs)(A.a.Group,{className:"mb-3",controlId:"formBasicCheckbox",children:[Object(m.jsx)("div",{className:"editProfile-data",children:"Escribe una verdad sobre ti"}),Object(m.jsx)(A.a.Control,{className:"editProfile-input",name:"questionTrue",value:j.questionTrue,onChange:function(e){return O(e)},type:"text",placeholder:"Verdad"})]}),Object(m.jsxs)(A.a.Group,{className:"mb-3",controlId:"formBasicCheckbox",children:[Object(m.jsx)("div",{className:"editProfile-data",children:"Escribe una mentira sobre ti"}),Object(m.jsx)(A.a.Control,{className:"editProfile-input",name:"questionFalse",value:j.questionFalse,onChange:function(e){return O(e)},type:"text",placeholder:"Mentira"})]}),Object(m.jsxs)(A.a.Group,{className:"mb-3",controlId:"formBasicCheckbox",children:[Object(m.jsx)("div",{className:"editProfile-data",children:"Da una pista"}),Object(m.jsx)(A.a.Control,{className:"editProfile-input",name:"clue",value:j.clue,onChange:function(e){return O(e)},type:"text",placeholder:"Pon una pista..."})]}),Object(m.jsx)("h3",{className:"editProfile-h3",children:"\xbfCon qu\xe9 g\xe9nero te identificas?"}),Object(m.jsxs)("div",{className:"checkbox",children:[Object(m.jsxs)(A.a.Group,{className:"mb-3",controlId:"formBasicCheckbox",children:[Object(m.jsx)("p",{className:"editProfile-data",children:"Mujer"}),Object(m.jsx)(A.a.Check,{className:"editProfile-checkbox",name:"gender",value:"WOMAN",onChange:function(e){return O(e)},type:"radio"})]}),Object(m.jsxs)(A.a.Group,{className:"mb-3",controlId:"formBasicCheckbox",children:[Object(m.jsx)("p",{className:"editProfile-data",children:"Hombre"}),Object(m.jsx)(A.a.Check,{className:"editProfile-checkbox",name:"gender",value:"MAN",onChange:function(e){return O(e)},type:"radio"})]}),Object(m.jsxs)(A.a.Group,{className:"mb-3",controlId:"formBasicCheckbox",children:[Object(m.jsx)("p",{className:"editProfile-data",children:"Otros"}),Object(m.jsx)(A.a.Check,{className:"editProfile-checkbox",name:"gender",value:"I DON NOT IDENTIFY WITH ANY GENDER",onChange:function(e){return O(e)},type:"radio"})]})]}),Object(m.jsx)("h3",{className:"editProfile-h3",children:"\xbfCon qui\xe9n quieres quedar?"}),Object(m.jsxs)("div",{className:"checkbox",children:[Object(m.jsxs)(A.a.Group,{className:"mb-3",controlId:"formBasicCheckbox",children:[Object(m.jsx)("p",{className:"editProfile-data",children:"Mujeres"}),Object(m.jsx)(A.a.Check,{className:"editProfile-checkbox",name:"genderFilter",value:"WOMAN",onChange:function(e){return O(e)},type:"radio"})]}),Object(m.jsxs)(A.a.Group,{className:"mb-3",controlId:"formBasicCheckbox",children:[Object(m.jsx)("p",{className:"editProfile-data",children:"Hombres"}),Object(m.jsx)(A.a.Check,{className:"editProfile-checkbox",name:"genderFilter",value:"MAN",onChange:function(e){return O(e)},type:"radio"})]}),Object(m.jsxs)(A.a.Group,{className:"mb-3",controlId:"formBasicCheckbox",children:[Object(m.jsx)("p",{className:"editProfile-data",children:"Ambos"}),Object(m.jsx)(A.a.Check,{className:"editProfile-checkbox",name:"genderFilter",value:"BOTH",onChange:function(e){return O(e)},type:"radio"})]})]}),Object(m.jsx)("p",{className:"editProfile-data",children:"Edad"}),Object(m.jsxs)(A.a.Group,{className:"mb-3",controlId:"formBasicCheckbox",children:[" ",Object(m.jsx)("p",{className:"editProfile-data",children:"Edad(desde/hasta)"}),Object(m.jsx)(A.a.Control,{className:"editProfile-input",name:"ageFirstFilter",value:j.ageFirstFilter,onChange:function(e){return O(e)},type:"text",placeholder:"Filtra por edad, introduce un n\xfamero "})]}),Object(m.jsx)(A.a.Group,{className:"mb-3",controlId:"formBasicCheckbox",children:Object(m.jsx)(A.a.Control,{className:"editProfile-input",name:"ageSecondFilter",value:j.ageSecondFilter,onChange:function(e){return O(e)},type:"text",placeholder:"hasta..."})}),Object(m.jsx)("p",{className:"editProfile-data",children:"Ciudad"}),Object(m.jsx)(A.a.Group,{className:"mb-3",controlId:"formBasicCheckbox",children:Object(m.jsx)(A.a.Control,{className:"editProfile-input",name:"cityFilter",value:j.cityFilter,onChange:function(e){return O(e)},type:"text",placeholder:"Filtra por ciudad..."})}),Object(m.jsx)("div",{className:"editProfile-button-container",children:Object(m.jsx)("button",{className:"editProfile-button",style:{cursor:"pointer"},children:"Crear"})})]}),Object(m.jsxs)(L.a,{show:a,backdrop:"static",onHide:x,children:[Object(m.jsx)(L.a.Header,{closeButton:!0,children:Object(m.jsx)(L.a.Title,{children:"Crea tu primera cita"})}),Object(m.jsx)(L.a.Body,{children:Object(m.jsx)(ee,{closeModal:x})})]})]})},ne=(c(129),c(7)),se=(c(130),function e(){var t=this;Object(l.a)(this,e),this.getAllMessages=function(e){return t.app.get("/allMessages/".concat(e))},this.getLastMessage=function(e){return t.app.get("/lastMessage/".concat(e))},this.create=function(e,c){return t.app.post("/".concat(c),e)},this.deleteMessage=function(e,c){return t.app.delete("/".concat(e),c)},this.app=u.a.create({baseURL:"".concat("https://mienteme.herokuapp.com/api","/messages"),withCredentials:!0})}),re=["members","dateSelected","_id","createdAt"],ie=new G;function oe(e){var t,c=e.members,a=e.dateSelected,s=e._id,r=e.createdAt,i=Object(ne.a)(e,re),l=(Object(b.g)(),new Date(r)),d=(t={},Object(p.a)(t,1,"Enero"),Object(p.a)(t,2,"Febrero"),Object(p.a)(t,3,"Marzo"),Object(p.a)(t,4,"Abril"),Object(p.a)(t,5,"Mayo"),Object(p.a)(t,6,"Junio"),Object(p.a)(t,7,"Julio"),Object(p.a)(t,8,"Agosto"),Object(p.a)(t,9,"Septiembre"),Object(p.a)(t,10,"Octubre"),Object(p.a)(t,11,"Noviembre"),Object(p.a)(t,12,"Diciembre"),t),u=l.getDate(),j=l.getMonth()+1;j=d[j].slice(0,3);var O=new se,f=Object(n.useContext)(C).loggedUser,x=Object(n.useState)(void 0),g=Object(o.a)(x,2),v=g[0],N=g[1],y=Object(n.useState)(""),S=Object(o.a)(y,2),k=S[0],P=S[1];Object(n.useEffect)((function(){s&&E()}),[s]),Object(n.useEffect)((function(){c[0]._id!==f._id?N(c[0]):N(c[1])}),[s]);var E=function(){O.getLastMessage(s).then((function(e){return P(e.data[0])})).catch((function(e){return console.log(e)}))};return Object(m.jsxs)("div",{className:"global",children:[Object(m.jsx)(h.b,{to:"/chat/".concat(s,"/").concat(null===v||void 0===v?void 0:v._id),style:{textDecoration:"none",color:"black"},children:Object(m.jsxs)("div",{className:"conversation",children:[Object(m.jsxs)("div",{className:"chatOnlineImgContainer",children:[Object(m.jsxs)("p",{children:[Object(m.jsx)("strong",{children:null===v||void 0===v?void 0:v.username})," eligi\xf3: ",null===a||void 0===a?void 0:a.nameDate]}),Object(m.jsx)("img",{className:"chatOnlineImg",src:null===v||void 0===v?void 0:v.profileImages,alt:""})]}),Object(m.jsx)("p",{className:"last-message",children:null===k||void 0===k?void 0:k.message}),Object(m.jsxs)("p",{className:"d-m",children:[u," de ",j]})]})}),Object(m.jsx)("div",{className:"bachat",children:Object(m.jsx)("img",{className:"delete-icon",onClick:function(){ie.delete(s).then((function(e){return i.getConversations()})).catch((function(e){return console.log(e)}))},src:"https://img.icons8.com/external-kiranshastry-solid-kiranshastry/64/000000/external-delete-miscellaneous-kiranshastry-solid-kiranshastry.png"})}),Object(m.jsx)("hr",{style:{margin:"auto auto auto 80px"},className:"barra"})]})}var le=new G;function de(){var e=Object(n.useState)(void 0),t=Object(o.a)(e,2),c=t[0],a=t[1],s=Object(n.useState)(void 0),r=Object(o.a)(s,2);r[0],r[1];Object(n.useEffect)((function(){i()}),[]);var i=function(){le.getAllConversations().then((function(e){a(e.data)})).catch((function(e){return console.log(e)}))};return Object(m.jsxs)("div",{className:"chatOnline",children:[Object(m.jsx)("h1",{children:"Chat"}),Object(m.jsx)("input",{type:"searchbar",className:"searchBar",placeholder:"buscar a..."}),null===c||void 0===c?void 0:c.map((function(e,t){return Object(m.jsx)(oe,Object(g.a)({getConversations:i},e),t)}))]})}c(131);function ue(e){var t=e.message;console.log(t,"ALGOOOOOO");var c=Object(n.useContext)(C).loggedUser;return console.log("SENDER",null===t||void 0===t?void 0:t.sender),Object(m.jsx)(m.Fragment,{children:(null===t||void 0===t?void 0:t.sender._id)===c._id?Object(m.jsx)("div",{className:"ave",children:Object(m.jsx)("div",{className:"post-loggedUser",children:Object(m.jsxs)("div",{className:"postCenter",children:[Object(m.jsx)("span",{className:"postText",children:t.message}),Object(m.jsx)("span",{className:"postText",children:t.createAt})]})})}):Object(m.jsx)("div",{className:"ave2",children:Object(m.jsx)("div",{className:"post-match",children:Object(m.jsx)("div",{className:"",children:Object(m.jsx)("span",{className:"postText-match",children:t.message})})})})})}c(132);var je,be=c(91),he=new w,me=(new G,new se);function Oe(){var e=Object(n.useContext)(C).loggedUser,t=Object(b.h)(),c=t.idConver,a=t.match;console.log("MI MATCH:",a),console.log("idConver:",c);var s=Object(n.useState)(""),r=Object(o.a)(s,2),i=r[0],l=r[1],d=Object(n.useState)(void 0),u=Object(o.a)(d,2),j=u[0],O=u[1],f=Object(n.useState)(void 0),x=Object(o.a)(f,2),p=(x[0],x[1],Object(n.useState)(void 0)),g=Object(o.a)(p,2),v=g[0],N=g[1],y=Object(n.useState)(""),S=Object(o.a)(y,2),k=S[0],P=S[1],E=Object(n.useState)(void 0),w=Object(o.a)(E,2);w[0],w[1];Object(n.useEffect)((function(){A(),D()}),[]);var I=function(){me.getAllMessages(c).then((function(e){O(e.data)})).catch((function(e){return console.error(e)}))},A=function(){he.getOneUser(a).then((function(e){return N(e.data[0])})).catch((function(e){return console.log(e)}))},D=function(){var t=e.username;je=Object(be.a)("https://mienteme.herokuapp.com/",{cors:{origin:"https://mienteme.herokuapp.com/",credentials:!0},transports:["websocket"]});var c=[null===v||void 0===v?void 0:v._id.split(""),null===e||void 0===e?void 0:e._id.split("")].sort().join("");l("".concat(c)),je.emit("join",{username:t,room:i},(function(){I()})),je.emit("conectado","online")};Object(n.useEffect)((function(){return je.on("receiveMessages",(function(e){console.log("MENSAJE CREADO Y RECIBIDO___",e),I()})),function(){je.off()}}),[k]);var F=Object(n.useRef)(null);return Object(n.useEffect)((function(){F.current.scrollIntoView({behavior:"smooth"})})),Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)("div",{className:"privateChat",children:[Object(m.jsxs)("div",{className:"postTopLeft",children:[Object(m.jsx)(h.b,{to:"/match/".concat(null===v||void 0===v?void 0:v._id),children:Object(m.jsx)("img",{className:"postProfileImg",src:null===v||void 0===v?void 0:v.profileImages,alt:""})}),Object(m.jsxs)("span",{className:"name-chat",children:[null===v||void 0===v?void 0:v.username,"    ",null===v||void 0===v?void 0:v.age," "]})]}),Object(m.jsx)("hr",{}),Object(m.jsxs)("div",{className:"feedWrapper",children:[null===j||void 0===j?void 0:j.map((function(e,t){return Object(m.jsx)(ue,{message:e},t)})),Object(m.jsx)("div",{ref:F})]}),Object(m.jsxs)("form",{onSubmit:function(t){t.preventDefault(),""!==k&&(je.emit("sendMessage",k),P(""));var a={message:k,sender:e._id,receiver:v._id};me.create(a,c).then((function(e){return console.log("CREANDO MENSAJE",e.data)})).catch((function(e){return console.error(e)}))},className:"postBottom",children:[Object(m.jsx)("input",{value:k,onChange:function(e){return P(e.target.value)},type:"area",className:"writeMessage",placeholder:"escribe un mensaje..."}),Object(m.jsx)("button",{className:"send-msg",children:" ENVIAR"})]})]})})}c(137);var fe=function(e){return Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)("div",{className:"search-container",children:[Object(m.jsx)("h4",{className:"searchCard-h4",children:"Atr\xe9vete a explorar"}),Object(m.jsx)("p",{className:"searchCard-subtitle",children:"\xbfCu\xe1l es tu vibra...?"}),Object(m.jsxs)("div",{className:"searchCard-box-1",children:[Object(m.jsxs)("div",{className:"searchCard-box-1-content",children:[Object(m.jsx)("p",{className:"searchCard-box-text",children:"Gastronom\xeda"}),Object(m.jsx)(h.b,{to:"categoria/GASTRONOMY",children:Object(m.jsx)("div",{className:"search-card one",children:Object(m.jsx)("img",{className:"searchCard-image-1"})})})]}),Object(m.jsxs)("div",{className:"searchCard-box-1-content",children:[Object(m.jsx)("p",{className:"searchCard-box-text",children:"Cultura"}),Object(m.jsx)(h.b,{to:"categoria/CULTURE",children:Object(m.jsx)("div",{className:"search-card one",children:Object(m.jsx)("img",{className:"searchCard-image-2"})})})]})]}),Object(m.jsxs)("div",{className:"searchCard-box-2",children:[Object(m.jsxs)("div",{className:"searchCard-box-2-content",children:[Object(m.jsx)("p",{className:"searchCard-box-text",children:"Naturaleza"}),Object(m.jsx)(h.b,{to:"categoria/NATURE",children:Object(m.jsx)("div",{className:"search-card one",children:Object(m.jsx)("img",{className:"searchCard-image-3"})})})]}),Object(m.jsxs)("div",{className:"searchCard-box-2-content",children:[Object(m.jsx)("p",{className:"searchCard-box-text",children:"Random"}),Object(m.jsx)(h.b,{to:"categoria/RANDOM",children:Object(m.jsx)("div",{className:"search-card one",children:Object(m.jsx)("img",{className:"searchCard-image-4"})})})]})]}),Object(m.jsx)("div",{className:"searchCard-box-3",children:Object(m.jsxs)("div",{className:"searchCard-box-3-content",children:[Object(m.jsx)("p",{className:"searchCard-box-text all",children:"Todas"}),Object(m.jsx)(h.b,{to:"/todas",children:Object(m.jsx)("div",{className:"search-card one",children:Object(m.jsx)("img",{className:"searchCard-image-5"})})})]})})]})})},xe=(c(138),new M),pe=function(){var e=Object(n.useState)(void 0),t=Object(o.a)(e,2),c=t[0],a=t[1],s=Object(n.useState)(void 0),r=Object(o.a)(s,2),i=r[0],l=r[1];Object(n.useEffect)((function(){d()}),[]);var d=function(){xe.getAllRequestPending().then((function(e){var t,c,n=Math.floor(Math.random()*(null===(t=e.data)||void 0===t?void 0:t.length)),s=null===(c=e.data)||void 0===c?void 0:c.splice(n,1),r=Object(o.a)(s,1)[0];a(r),l(e.data)})).catch((function(e){return console.log(e)}))};return Object(m.jsx)(m.Fragment,{children:Object(m.jsx)("div",{className:"request-container",children:Object(m.jsx)("div",{className:"second-card",children:c?Object(m.jsx)(K,{user:c.creator,dateSelected:c.dateSelected,request:c,next:function(){var e=Math.floor(Math.random()*(null===i||void 0===i?void 0:i.length)),t=null===i||void 0===i?void 0:i.splice(e,1),c=Object(o.a)(t,1)[0];a(c)},disableBtn:true}):Object(m.jsx)("p",{className:"request-subtitle",children:"No tienes solicitudes pendientes"})})})})},ge=(c(139),new M),ve=function(){var e=Object(n.useState)(void 0),t=Object(o.a)(e,2),c=t[0],a=t[1],s=Object(n.useState)(void 0),r=Object(o.a)(s,2),i=r[0],l=r[1];Object(n.useEffect)((function(){d()}),[]);var d=function(){ge.getAllSecondsOpportunities().then((function(e){var t;l(e.data);var c=Math.floor(Math.random()*e.data.length),n=null===(t=e.data)||void 0===t?void 0:t.splice(c,1),s=Object(o.a)(n,1)[0];a(s),u()})).catch((function(e){return console.log(e)}))},u=function(){var e=Math.floor(Math.random()*i.length),t=null===i||void 0===i?void 0:i.splice(e,1),c=Object(o.a)(t,1)[0];a(c)};return Object(m.jsx)(m.Fragment,{children:Object(m.jsx)("div",{className:"secondOp-container",children:c?Object(m.jsx)(K,{user:c.receiver,next:u,disableBtn:true,secondOpor:true}):Object(m.jsx)("p",{className:"secondsOp-text",children:"Vuelve m\xe1s tarde, ya has agotado todas tus segundas oportunidades"})})})},Ne=(c(140),function(){return Object(m.jsxs)("div",{className:"footerNav-container",children:[Object(m.jsx)(h.b,{className:"link",to:"/click-me",children:Object(m.jsx)("img",{className:"user",src:"https://upload.wikimedia.org/wikipedia/commons/thumb/9/98/OOjs_UI_icon_userAvatar.svg/2048px-OOjs_UI_icon_userAvatar.svg.png"})}),Object(m.jsx)(h.b,{className:"link",to:"/segundas-oportunidades",children:Object(m.jsx)("img",{className:"second-chance",src:"https://www.pngkit.com/png/full/352-3520722_arrow-repeat-comments-repost-logo-png.png"})}),Object(m.jsx)(h.b,{to:"/buscar",children:Object(m.jsx)("img",{className:"search",src:"https://upload.wikimedia.org/wikipedia/commons/thumb/0/0b/Search_Icon.svg/1024px-Search_Icon.svg.png"})}),Object(m.jsx)(h.b,{className:"link",to:"/peticiones",children:Object(m.jsx)("img",{className:"request",src:"https://static.thenounproject.com/png/2714894-200.png"})}),Object(m.jsx)(h.b,{className:"link",to:"/chat",children:Object(m.jsx)("img",{className:"chat",src:"http://cdn.onlinewebfonts.com/svg/img_53145.png"})})]})}),Ce=(c(141),new j),ye=function(){var e=Object(n.useContext)(C),t=e.storeUser,c=e.loggedUser,a=Object(b.g)();return Object(m.jsxs)("div",{className:"headerNav-container",children:[Object(m.jsx)(h.b,{to:"/perfil",children:Object(m.jsx)("img",{className:"headerNav-profile-img",src:null===c||void 0===c?void 0:c.profileImages[0]})}),Object(m.jsxs)("div",{className:"headerNav-subcontainer",children:[Object(m.jsx)("img",{className:"headerNav-project-img",src:"https://cdn-icons-png.flaticon.com/512/3798/3798376.png"}),Object(m.jsx)("h1",{className:"headerNav-text",children:"mi\xe9nteme"})]}),Object(m.jsx)("img",{className:"headerNav-logout",onClick:function(e){e.preventDefault(),Ce.logout().then((function(){t(null),a.push("/")})).catch((function(e){return console.error(e)}))},src:"https://iconape.com/wp-content/files/ij/9415/png/01-16.png"})]})},Se=(c(142),new B),ke=function(){var e=Object(b.g)(),t=Object(n.useContext)(C).loggedUser,c=Object(n.useState)([]),a=Object(o.a)(c,2),s=a[0],r=a[1],i=Object(n.useState)(void 0),l=Object(o.a)(i,2),d=l[0],u=l[1],j=Object(n.useState)(!1),O=Object(o.a)(j,2),f=O[0],x=O[1],p=Object(n.useState)(!1),g=Object(o.a)(p,2),v=g[0],N=g[1],y=Object(n.useState)(false),S=Object(o.a)(y,2);S[0],S[1];Object(n.useEffect)((function(){k()}),[s]);var k=function(){Se.getOwnDates(t._id).then((function(e){return r(e.data)})).catch((function(e){return console.log("hay un error al conseguir las citas del otro en el front",e)}))},P=function(){x(!1)},E=function(){N(!1)};return Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)("div",{className:"userProfile-container",children:[Object(m.jsxs)("div",{className:"userProfile-subcontainer",children:[Object(m.jsx)("img",{className:"userProfile-img",src:t.profileImages[0]}),Object(m.jsxs)("div",{className:"userProfile-info-container",children:[Object(m.jsxs)("div",{className:"userProfile-info-1",children:[Object(m.jsx)("p",{className:"userProfile-name",children:t.username}),Object(m.jsxs)("p",{className:"userProfile-age",children:[t.age," a\xf1os"]})]}),Object(m.jsx)("p",{className:"userProfile-bio",children:t.bio})]})]}),Object(m.jsxs)("div",{className:"userProfile-link-container",children:[Object(m.jsx)("button",{className:"userProfile-button-create",onClick:function(){return N(!0)},children:"Crea una cita"}),Object(m.jsx)(h.b,{className:"userProfile-link",to:"/editar-perfil",children:"Editar perfil"})]}),Object(m.jsx)("div",{className:"userProfile-dates-home",children:Object(m.jsx)("p",{className:"userProfile-date-title",children:"Mis citas"})}),Object(m.jsx)("div",{className:"userProfile-detail-date-home",children:null===s||void 0===s?void 0:s.map((function(t,c){return Object(m.jsx)("div",{className:"userProfile-container-date",children:Object(m.jsxs)("div",{className:"userProfile-detail-date",children:[Object(m.jsx)("p",{className:"userProfile-detail-date-name",children:t.nameDate}),Object(m.jsx)("p",{className:"userProfile-detail-date-description",children:t.description}),Object(m.jsx)("p",{className:"userProfile-detail-date-description",children:t.day}),Object(m.jsx)("div",{className:"userProfile-detail-date-category-content",children:Object(m.jsx)("p",{className:"userProfile-detail-date-category",children:t.category})}),Object(m.jsxs)("div",{className:"userProfile-button",children:[Object(m.jsx)("button",{onClick:function(){return e=t,x(!0),void u(e);var e},className:"userProfile-date-button",children:"Editar "}),Object(m.jsx)("button",{onClick:function(){return c=t._id,void Se.deleteDate(c).then((function(t){e.push("/perfil"),console.log("ELIMINANDO CON \xc9XITO ==>",t.data)})).catch((function(e){return console.log("hay un error al conseguir las citas del otro en el front",e)}));var c},className:"userProfile-date-button",children:"Borrar "})]})]})},c)}))}),Object(m.jsxs)(L.a,{show:f,backdrop:"static",onHide:P,children:[Object(m.jsx)(L.a.Header,{closeButton:!0,children:Object(m.jsxs)(L.a.Title,{children:[" ",Object(m.jsx)("p",{className:"userProfile-modal-title",children:"Edita tu cita"})," "]})}),Object(m.jsx)(L.a.Body,{children:Object(m.jsx)(ee,{dateSelected:d,closeModal:P})})]}),Object(m.jsxs)(L.a,{show:v,backdrop:"static",onHide:E,children:[Object(m.jsx)(L.a.Header,{closeButton:!0,children:Object(m.jsxs)(L.a.Title,{children:[" ",Object(m.jsx)("p",{className:"userProfile-modal-title",children:"Crea tu cita"})," "]})}),Object(m.jsx)(L.a.Body,{children:Object(m.jsx)(ee,{closeModal:E})})]})]})})};c(78),c(143);function Pe(e){var t=e.nameDate,c=e.description,a=e.creator,n=e.day;return Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)(h.b,{to:"/match/".concat(a._id),style:{marginLeft:"500px",textDecoration:"none",color:"black"},children:[Object(m.jsxs)("div",{className:"alldates",children:[Object(m.jsxs)("div",{className:"",children:[Object(m.jsxs)("p",{style:{margin:"10px"},children:[Object(m.jsx)("strong",{children:a.username}),", ",a.age]}),Object(m.jsx)("img",{className:"imag-date",src:a.profileImages,alt:""})]}),Object(m.jsxs)("div",{className:"description-date",children:[Object(m.jsx)("p",{className:"name-date-bycat",children:Object(m.jsx)("strong",{children:t})}),Object(m.jsx)("p",{className:"name-date-bycat",children:c}),Object(m.jsx)("p",{className:"name-date-bycat",children:n})]})]}),Object(m.jsx)("hr",{})]})})}var Ee=new B,we=function(){var e=Object(b.h)().category;console.log("PARAMAS",e);var t=Object(n.useContext)(He).usersFiltered,c=Object(n.useState)([]),a=Object(o.a)(c,2),s=(a[0],a[1]),r=Object(n.useState)([]),i=Object(o.a)(r,2),l=i[0],d=i[1];console.log(" CONTEXTO filtrado de todos los usuarios: ",t),Object(n.useEffect)((function(){u()}),[]);var u=function(){Ee.getByCategory(e).then((function(e){console.log("ALL DATES BY CATEGORY___>",e.data),s(e.data);for(var c=[],a=function(a){var n=e.data.filter((function(e){var c,n;return(null===(c=e.creator)||void 0===c?void 0:c._id)===(null===(n=t[a])||void 0===n?void 0:n._id)}));n&&n.forEach((function(e){return c.push(e)}))},n=0;n<(null===t||void 0===t?void 0:t.length);n++)a(n);d(c)})).catch((function(e){return console.log(e)})),console.log("DATES BY CATEGORY",l)};return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("h1",{className:"search-h1",children:"Citas"}),Object(m.jsx)(h.b,{to:"/buscar",className:"volver-button",children:"VOLVER"}),null===l||void 0===l?void 0:l.map((function(e,t){return Object(m.jsx)(Pe,Object(g.a)({},e))}))]})},Ie=new B,Ae=function(){var e=Object(n.useContext)(He).usersFiltered,t=Object(n.useState)(void 0),c=Object(o.a)(t,2),a=c[0],s=c[1];Object(n.useEffect)((function(){r()}),[]);var r=function(){Ie.getAllDates().then((function(t){console.log("ALL DATES ___>",t.data);for(var c=[],a=function(a){var n=t.data.filter((function(t){var c,n;return(null===(c=t.creator)||void 0===c?void 0:c._id)===(null===(n=e[a])||void 0===n?void 0:n._id)}));n&&n.forEach((function(e){return c.push(e)}))},n=0;n<(null===e||void 0===e?void 0:e.length);n++)a(n);s(c)})).catch((function(e){return console.log(e)})),console.log("FILTRADAS TODAS LAS CITAS ___>",a)};return Object(m.jsxs)("div",{className:"all-dates-container",children:[Object(m.jsx)(h.b,{to:"/buscar",className:"volver-button",children:"VOLVER"}),Object(m.jsx)("h1",{className:"",children:"TODAS LAS CITAS"}),null===a||void 0===a?void 0:a.map((function(e,t){return Object(m.jsx)(Pe,Object(g.a)({},e),t)}))]})},De=new w,Fe=function(){var e,t=Object(b.h)().id,c=Object(n.useState)([]),a=Object(o.a)(c,2),s=a[0],r=a[1];Object(n.useEffect)((function(){i(t)}),[]);var i=function(e){De.getOneUser(e).then((function(e){return r(e.data)})).catch((function(e){return console.log("hay un error al conseguir las citas del otro en el front",e)}))};return Object(m.jsx)(m.Fragment,{children:(null===(e=s[0])||void 0===e?void 0:e._id)?Object(m.jsx)(K,{user:s[0],disableBtn:true,disableTrivial:true}):Object(m.jsx)("h3",{children:"Estamos mejorando la aplicaci\xf3n, vuelve en unos minutos"})})},Te=c(13),Me=c(18),Be=c(17),Re=c(68),Ue=(c(144),c(145),c(49)),_e=c.n(Ue),qe=(c(147),new B,Object(Re.b)(_e.a));_e.a.locale("en-ES");var Ge=function(e){Object(Me.a)(c,e);var t=Object(Be.a)(c);function c(){var e;Object(l.a)(this,c);for(var a=arguments.length,n=new Array(a),s=0;s<a;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))).state={events:[{start:_e()().toDate(),end:_e()().add(1,"days").toDate(),title:"Paseo por el Retiro"}],selectedDate:void 0},e}return Object(Te.a)(c,[{key:"render",value:function(){var e=this;return Object(m.jsx)("div",{className:"calendar",children:Object(m.jsx)(Re.a,{localizer:qe,culture:"es-ES",events:this.state.events,onNavigate:function(t){e.setState({selectedDate:t})},startAccessor:"start",defaultDate:new Date,defaultView:"month",endAccessor:"end",views:["month"],selectable:"true",onClickDay:function(e){console.log(" VIENDO EL CALENDARIO",e)},onClickEvent:function(e){console.log(" VIENDO EL CALENDARIO, ON CLICK eVENET",e)},style:{height:"70vh",width:"70vw",margin:"auto",border:"rgba(255, 172, 201, 0.8)",cursor:"pointer"}})})}}]),c}(n.Component),Le=Ge,He=(c(148),s.a.createContext()),We=new w,Ye=new G,Ve=new M,Qe=function(){var e=Object(n.useContext)(C).loggedUser,t=Object(n.useState)(void 0),c=Object(o.a)(t,2),a=c[0],s=c[1],r=Object(n.useState)(void 0),i=Object(o.a)(r,2),l=i[0],d=i[1],u=Object(n.useState)(void 0),j=Object(o.a)(u,2),h=j[0],O=j[1],f=Object(n.useState)(void 0),x=Object(o.a)(f,2),p=x[0],g=x[1];Object(n.useEffect)((function(){v()}),[e.filter]),Object(n.useEffect)((function(){a&&N()}),[a]),Object(n.useEffect)((function(){l&&y()}),[l]),Object(n.useEffect)((function(){h&&S()}),[h]);var v=function(){We.getAllUsers().then((function(t){var c=t.data.filter((function(t){return t._id!==e._id}));console.log("TODOS MENOS YO",c),s(c)})).catch((function(e){return console.log(e)}))},N=function(){Ye.getAllConversations().then((function(t){var c=t.data.map((function(t){return t.members.filter((function(t){return t._id!==e._id}))[0]})),n=null===a||void 0===a?void 0:a.filter((function(e){return!c.some((function(t){return t._id===e._id}))}));console.log("QUITO MIS CONVERS",n),d(n)})).catch((function(e){return console.log(e)}))},y=function(){Ve.getAllRequestPending().then((function(e){var t=e.data.map((function(e){return e.creator})),c=null===l||void 0===l?void 0:l.filter((function(e){return!t.some((function(t){return t._id===e._id}))}));console.log("QUITO LAS REQUEST PENDING QUE RECIBO",c),O(c)})).catch((function(e){return console.log(e)}))},S=function(){Ve.getRequestCreatedForMe().then((function(e){var t=e.data.map((function(e){return e.receiver})),c=null===h||void 0===h?void 0:h.filter((function(e){return!t.some((function(t){return t._id===e._id}))}));console.log("QUITO ADEM\xc1S LAS REQUEST CREADAS POR MI, A LA ESPERA DE SER CONTESTADAS",c),g(c)})).catch((function(e){return console.log(e)}))};return console.log("PRIMER CONTEXTO",p),Object(m.jsxs)("main",{children:[Object(m.jsx)("div",{className:"general-header",children:Object(m.jsx)(ye,{})}),Object(m.jsx)("div",{className:"general-routes",children:Object(m.jsx)(He.Provider,{value:{usersFiltered:p},children:Object(m.jsxs)(b.d,{children:[Object(m.jsx)(b.b,{path:"/",exact:!0,render:function(){return Object(m.jsx)(b.a,{to:"/click-me"})}}),Object(m.jsx)(b.b,{path:"/click-me",exact:!0,render:function(){return Object(m.jsx)($,{})}}),Object(m.jsx)(b.b,{path:"/formulario",exact:!0,render:function(){return Object(m.jsx)(ae,{})}}),Object(m.jsx)(b.b,{path:"/chat",exact:!0,render:function(){return Object(m.jsx)(de,{})}}),Object(m.jsx)(b.b,{path:"/chat/:idConver/:match",render:function(){return Object(m.jsx)(Oe,{})}}),Object(m.jsx)(b.b,{path:"/segundas-oportunidades",render:function(){return Object(m.jsx)(ve,{})}}),Object(m.jsx)(b.b,{path:"/buscar",render:function(){return Object(m.jsx)(fe,{})}}),Object(m.jsx)(b.b,{path:"/peticiones",render:function(){return Object(m.jsx)(pe,{})}}),Object(m.jsx)(b.b,{path:"/perfil",render:function(){return Object(m.jsx)(ke,{})}}),Object(m.jsx)(b.b,{path:"/editar-perfil",render:function(){return Object(m.jsx)(T,{})}}),Object(m.jsx)(b.b,{path:"/todas",render:function(){return Object(m.jsx)(Ae,{})}}),Object(m.jsx)(b.b,{path:"/match/:id",render:function(){return Object(m.jsx)(Fe,{})}}),Object(m.jsx)(b.b,{path:"/calendario",render:function(){return Object(m.jsx)(Le,{})}}),Object(m.jsx)(b.b,{path:"/categoria/:category",render:function(){return Object(m.jsx)(we,{})}})]})})}),Object(m.jsx)("div",{className:"general-footer",children:Object(m.jsx)(Ne,{})})]})},ze=new j,Je=function(){var e=Object(n.useState)(null),t=Object(o.a)(e,2),c=t[0],a=t[1],s=function(e){return a(e)},r=function(){ze.isloggedin().then((function(e){return s(e.data)})).catch((function(e){return s(null)}))};return Object(n.useEffect)((function(){r()}),[]),console.log("Usuario logueado _____>>>>>",c),Object(m.jsx)(m.Fragment,{children:Object(m.jsx)(N,{value:{loggedUser:c,storeUser:s,fetchUser:r},children:null===c?Object(m.jsx)(E,{}):Object(m.jsx)(Qe,{})})})},Xe=(c(149),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)));function Ke(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var c=e.installing;null!=c&&(c.onstatechange=function(){"installed"===c.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}i.a.render(Object(m.jsx)(s.a.StrictMode,{children:Object(m.jsx)(h.a,{children:Object(m.jsx)(Je,{})})}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");Xe?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(c){var a=c.headers.get("content-type");404===c.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):Ke(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):Ke(t,e)}))}}()},77:function(e,t,c){},78:function(e,t,c){},97:function(e,t,c){}},[[150,1,2]]]);
//# sourceMappingURL=main.30ec20c9.chunk.js.map