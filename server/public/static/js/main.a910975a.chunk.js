(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{124:function(e,t,c){},125:function(e,t,c){},126:function(e,t,c){},127:function(e,t,c){},128:function(e,t,c){},129:function(e,t,c){},130:function(e,t,c){},135:function(e,t,c){},136:function(e,t,c){},137:function(e,t,c){},138:function(e,t,c){},139:function(e,t,c){},140:function(e,t,c){},144:function(e,t,c){},145:function(e,t,c){"use strict";c.r(t);var a=c(1),n=c.n(a),s=c(12),r=c.n(s),i=(c(96),c(3)),o=(c(97),c(9)),l=c(24),d=c.n(l),u=function e(){var t=this;Object(o.a)(this,e),this.signup=function(e,c){return t.app.post("/signup",{email:e,pwd:c})},this.login=function(e,c){return t.app.post("/login",{email:e,pwd:c})},this.logout=function(){return t.app.get("/logout")},this.isloggedin=function(){return t.app.get("/isloggedin")},this.app=d.a.create({baseURL:"".concat("https://mienteme.herokuapp.com/api"),withCredentials:!0})},j=c(16),b=c(6),h=c(0),O=function(e){return Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)("div",{style:{backgroundSize:"cover",height:"100vh",display:"flex",justifyContent:"center",flexDirection:"Column",alignItems:"center"},children:[Object(h.jsx)("div",{className:"project-logo-container",children:Object(h.jsx)("div",{className:"project-logo-box",children:Object(h.jsx)("img",{className:"project-logo-big",src:"https://cdn-icons-png.flaticon.com/512/3798/3798376.png"})})}),Object(h.jsx)("h1",{style:{color:"rgba(255, 172, 201, 0.8)"},children:"Mi\xe9nteme"}),Object(h.jsx)(b.b,{to:"/singup",className:"no-dec",children:Object(h.jsx)("h2",{className:"home-page",children:"Reg\xedstrate"})}),Object(h.jsx)(b.b,{to:"/login",className:"no-dec",children:Object(h.jsx)("h2",{className:"home-page",children:"Inicia sesi\xf3n"})})]})})},m=c(10),p=c(2),f=(c(124),n.a.createContext(!1)),x=f.Provider,g=f,v=new u,N=function(e){var t=Object(a.useState)({email:"",pwd:""}),c=Object(i.a)(t,2),n=c[0],s=c[1],r=Object(j.f)(),o=Object(a.useContext)(g).storeUser,l=function(e){var t=e.target,c=t.value,a=t.name;s(Object(p.a)(Object(p.a)({},n),{},Object(m.a)({},a,c)))};return Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)("div",{children:[Object(h.jsxs)("div",{className:"project-logo-container",children:[Object(h.jsx)("div",{className:"project-logo-box",children:Object(h.jsx)("img",{className:"project-logo",src:"https://upload.wikimedia.org/wikipedia/commons/thumb/c/c8/Love_Heart_symbol.svg/521px-Love_Heart_symbol.svg.png"})}),Object(h.jsx)("div",{className:"logo-container",children:Object(h.jsx)("img",{className:"exit-logo",src:"https://sites.energycenter.org/sites/default/files/images/site/icons/xi.png"})})]}),Object(h.jsx)("h2",{className:"signup",children:"Reg\xedstrate"}),Object(h.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t=n.email,c=n.pwd;v.signup(t,c).then((function(e){o(e.data),r.push("/formulario"),s({email:"",pwd:""})})).catch((function(e){return function(e){return console.error(e)}}))},children:[Object(h.jsxs)("p",{className:"signup",children:["Al hacer clic en Inicia Sesi\xf3n, aceptas nuestras ",Object(h.jsx)("a",{className:"signup",href:"#",children:"Condiciones"}),". Obt\xe9n m\xe1s informaci\xf3n sobre como procesamos tus datos en nuestra ",Object(h.jsx)("a",{className:"signup",href:"#",children:"Pol\xedtica de privacidad"})," y nuestra ",Object(h.jsx)("a",{className:"signup",href:"#",children:"Pol\xedtica de cookies"})]}),Object(h.jsxs)("div",{className:"signup-form",children:[Object(h.jsx)("label",{}),Object(h.jsx)("input",{onChange:function(e){return l(e)},value:n.email,name:"email",type:"text",placeholder:"Correo electr\xf3nico"}),Object(h.jsx)("label",{}),Object(h.jsx)("input",{onChange:function(e){return l(e)},value:n.pwd,name:"pwd",type:"password",placeholder:"Contrase\xf1a"})]}),Object(h.jsxs)("div",{className:"signup-box",children:[Object(h.jsx)("button",{className:"signup",style:{cursor:"pointer"},children:"Registrarme"}),Object(h.jsxs)("button",{className:"signup-social",children:[Object(h.jsx)("img",{className:"logo",src:"https://upload.wikimedia.org/wikipedia/commons/thumb/5/53/Google_%22G%22_Logo.svg/1200px-Google_%22G%22_Logo.svg.png"}),Object(h.jsxs)("p",{className:"signup-text",children:["Iniciar sesi\xf3n con",Object(h.jsx)("br",{}),"Google"]})]}),Object(h.jsxs)("button",{className:"signup-social",children:[Object(h.jsx)("img",{className:"logo",src:"https://1000marcas.net/wp-content/uploads/2019/11/Instagram-logo.png"}),Object(h.jsxs)("p",{className:"signup-text",children:["Iniciar sesi\xf3n con",Object(h.jsx)("br",{}),"Instagram"]})]}),Object(h.jsxs)("button",{className:"signup-social",children:[Object(h.jsx)("img",{className:"logo",src:"https://upload.wikimedia.org/wikipedia/commons/4/44/Facebook_Logo.png"}),Object(h.jsxs)("p",{className:"signup-text",children:["Iniciar sesi\xf3n con",Object(h.jsx)("br",{}),"Facebook"]})]}),Object(h.jsx)("a",{className:"link-footer",href:"#",children:"\xbfNo consigues iniciar sesi\xf3n?"})]})]})]})})},C=new u,y=function(e){var t=Object(a.useState)({email:"",pwd:""}),c=Object(i.a)(t,2),n=c[0],s=c[1],r=Object(j.f)(),o=Object(a.useContext)(g).storeUser;Object(a.useEffect)((function(){return function(){return l()}}),[]);var l=function(){s({email:"",pwd:""})},d=function(e){var t=e.target,c=t.name,a=t.value;s(Object(p.a)(Object(p.a)({},n),{},Object(m.a)({},c,a)))};return Object(h.jsxs)("div",{children:[Object(h.jsx)("div",{className:"project-logo-container",children:Object(h.jsx)("div",{className:"project-logo-box",children:Object(h.jsx)("img",{className:"project-logo",src:"https://upload.wikimedia.org/wikipedia/commons/thumb/c/c8/Love_Heart_symbol.svg/521px-Love_Heart_symbol.svg.png"})})}),Object(h.jsx)("h2",{className:"signup",children:"Inicia sesi\xf3n"}),Object(h.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t=n.email,c=n.pwd;C.login(t,c).then((function(e){o(e.data),r.push("/click-me")})).catch((function(e){return console.error(e)}))},children:[Object(h.jsxs)("div",{className:"signup-form",children:[Object(h.jsx)("label",{}),Object(h.jsx)("input",{onChange:function(e){return d(e)},value:n.email,name:"email",type:"text",placeholder:"Correo electr\xf3nico"}),Object(h.jsx)("label",{}),Object(h.jsx)("input",{onChange:function(e){return d(e)},value:n.pwd,name:"pwd",type:"password",placeholder:"Contrase\xf1a"})]}),Object(h.jsxs)("div",{className:"signup-box",children:[Object(h.jsx)("button",{className:"signup",style:{cursor:"pointer"},children:"Iniciar Sesi\xf3n"}),Object(h.jsx)(b.b,{className:"link-footer",to:"/",children:" \xbfOlvidaste tu contrase\xf1a?"})]})]})]})},E=function(e){e.storeUser,e.loggedUser,e.fetchUser;return Object(h.jsxs)(j.c,{children:[Object(h.jsx)(j.a,{path:"/",exact:!0,render:function(){return Object(h.jsx)(O,{})}}),Object(h.jsx)(j.a,{path:"/singup",render:function(e){return Object(h.jsx)(N,{})}}),Object(h.jsx)(j.a,{path:"/login",render:function(e){return Object(h.jsx)(y,{})}})]})},S=function e(){var t=this;Object(o.a)(this,e),this.getAllUsers=function(e){return t.app.get("/allUsers",e)},this.getOneUser=function(e){return t.app.get("/profile/".concat(e))},this.editProfile=function(e,c){return t.app.post("/profile/".concat(e,"/edit-profile"),c)},this.deleteProfile=function(e,c){return t.app.delete("/delete-profile/".concat(e),c)},this.app=d.a.create({baseURL:"".concat("https://mienteme.herokuapp.com/api","/people"),withCredentials:!0})},A=(c(125),function e(){var t=this;Object(o.a)(this,e),this.uploadImage=function(e){return t.app.post("/image",e)},this.app=d.a.create({baseURL:"".concat("https://mienteme.herokuapp.com/api","/upload")})}),I=c(151),w=new S,P=new A,k=function(){var e=Object(a.useState)(!1),t=Object(i.a)(e,2),c=(t[0],t[1],Object(j.f)()),n=Object(a.useContext)(g),s=n.loggedUser,r=n.storeUser,o=Object(a.useState)({username:"",profileImages:"",age:"",gender:"",bio:"",genderFilter:"",ageFirstFilter:void 0,ageSecondFilter:void 0,city:"",questionTrue:"",questionFalse:"",clue:""}),l=Object(i.a)(o,2),d=l[0],u=l[1];Object(a.useEffect)((function(){u({username:null===s||void 0===s?void 0:s.username,profileImages:"",age:null===s||void 0===s?void 0:s.age,genre:null===s||void 0===s?void 0:s.gender,bio:null===s||void 0===s?void 0:s.bio,genderFilter:null===s||void 0===s?void 0:s.filter.genderFilter,ageFirstFilter:null===s||void 0===s?void 0:s.filter.ageFilter[0],ageSecondFilter:null===s||void 0===s?void 0:s.filter.ageFilter[1],ageFilter:null===s||void 0===s?void 0:s.filter.ageFilter,cityFilter:null===s||void 0===s?void 0:s.filter.cityFilter,city:null===s||void 0===s?void 0:s.city,questionTrue:null===s||void 0===s?void 0:s.questionTrue,questionFalse:null===s||void 0===s?void 0:s.questionFalse,clue:null===s||void 0===s?void 0:s.clue})}),[s]);var b=function(e){var t=e.target,c=t.name,a=t.value;u(Object(p.a)(Object(p.a)({},d),{},Object(m.a)({},c,a)))};return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("h1",{children:"Editar Perfil"}),Object(h.jsxs)(I.a,{className:"editProfile-container",onSubmit:function(e){e.preventDefault(),w.editProfile(s._id,d).then((function(e){r(e.data),u({username:"",profileImages:"",age:void 0,gender:"",bio:"",genderFilter:"",ageFirstFilter:"",ageSecondFilter:"",cityFilter:"",city:"",questionTrue:"",questionFalse:"",clue:""}),c.push("/perfil")})).catch((function(e){return console.error(e)}))},children:[Object(h.jsxs)(I.a.Group,{className:"mb-3",controlId:"formBasicEmail",children:[Object(h.jsx)("div",{className:"editProfile-data",children:"Username"}),Object(h.jsx)(I.a.Label,{}),Object(h.jsx)(I.a.Control,{className:"editProfile-input",name:"username",value:d.username,onChange:function(e){return b(e)},type:"text",placeholder:"Nombre de usuario"})]}),Object(h.jsxs)(I.a.Group,{className:"editProfile-data-container",controlId:"formBasicPassword",children:[Object(h.jsx)("div",{className:"editProfile-data",children:"Imagen"}),Object(h.jsx)(I.a.Label,{}),Object(h.jsx)(I.a.Control,{name:"profileImages",value:d.profileImages,onChange:function(e){return function(e){u(Object(p.a)(Object(p.a)({},d),{},{isLoading:!0}));var t=new FormData;t.append("imageData",e.target.files[0]),P.uploadImg(t).then((function(e){return u(Object(p.a)(Object(p.a)({},d),{},{isLoading:!1,profileImages:e.data.cloudinary_url}))})).catch((function(e){return console.error(e)}))}(e)},type:"file"})]}),Object(h.jsxs)(I.a.Group,{className:"mb-3",controlId:"formBasicCheckbox",children:[Object(h.jsx)("div",{className:"editProfile-data",children:"Edad"}),Object(h.jsx)(I.a.Control,{className:"editProfile-input",name:"age",value:d.age,onChange:function(e){return b(e)},type:"number",placeholder:"Edad"})]}),Object(h.jsxs)(I.a.Group,{className:"mb-3",controlId:"formBasicCheckbox",children:[Object(h.jsx)("div",{className:"editProfile-data",children:"Bio"}),Object(h.jsx)(I.a.Control,{className:"editProfile-input",name:"bio",value:d.bio,onChange:function(e){return b(e)},type:"textarea",placeholder:"Acerca de m\xed"})]}),Object(h.jsxs)(I.a.Group,{className:"mb-3",controlId:"formBasicCheckbox",children:[Object(h.jsx)("div",{className:"editProfile-data",children:"Ciudad"}),Object(h.jsx)(I.a.Control,{className:"editProfile-input",name:"city",value:d.city,onChange:function(e){return b(e)},type:"text",placeholder:"Ciudad"})]}),Object(h.jsxs)(I.a.Group,{className:"mb-3",controlId:"formBasicCheckbox",children:[Object(h.jsx)("div",{className:"editProfile-data",children:"Pregunta verdadera"}),Object(h.jsx)(I.a.Control,{className:"editProfile-input",name:"questionTrue",value:d.questionTrue,onChange:function(e){return b(e)},type:"text",placeholder:"Pregunta Verdadera"})]}),Object(h.jsxs)(I.a.Group,{className:"mb-3",controlId:"formBasicCheckbox",children:[Object(h.jsx)("div",{className:"editProfile-data",children:"Pregunta Falsa"}),Object(h.jsx)(I.a.Control,{className:"editProfile-input",name:"questionFalse",value:d.questionFalse,onChange:function(e){return b(e)},type:"text",placeholder:"Pregunta Falsa"})]}),Object(h.jsxs)(I.a.Group,{className:"mb-3",controlId:"formBasicCheckbox",children:[Object(h.jsx)("div",{className:"editProfile-data",children:"Pista"}),Object(h.jsx)(I.a.Control,{className:"editProfile-input",name:"clue",value:d.clue,onChange:function(e){return b(e)},type:"text",placeholder:"Pon una pista..."})]}),Object(h.jsx)("br",{}),Object(h.jsx)("h3",{className:"editProfile-h3",children:"\xbfCon qui\xe9n quieres quedar?"}),Object(h.jsxs)(I.a.Group,{className:"mb-3",controlId:"formBasicCheckbox",children:[Object(h.jsx)("p",{className:"editProfile-data",children:"G\xe9nero"}),Object(h.jsx)(I.a.Control,{className:"editProfile-input",name:"genderFilter",value:d.genderFilter,onChange:function(e){return b(e)},type:"text",placeholder:"\xbfMujer, hombre o ambos?"})]}),Object(h.jsx)("p",{className:"editProfile-data",children:"Edad"}),Object(h.jsxs)(I.a.Group,{className:"mb-3",controlId:"formBasicCheckbox",children:[" ",Object(h.jsx)("p",{className:"editProfile-data",children:"Edad(desde/hasta)"}),Object(h.jsx)(I.a.Control,{className:"editProfile-input",name:"ageFirstFilter",value:d.ageFirstFilter,onChange:function(e){return b(e)},type:"text",placeholder:"Filtra por edad, introduce un n\xfamero "})]}),Object(h.jsx)(I.a.Group,{className:"mb-3",controlId:"formBasicCheckbox",children:Object(h.jsx)(I.a.Control,{className:"editProfile-input",name:"ageSecondFilter",value:d.ageSecondFilter,onChange:function(e){return b(e)},type:"text",placeholder:"hasta..."})}),Object(h.jsx)("p",{className:"editProfile-data",children:"Ciudad"}),Object(h.jsx)(I.a.Group,{className:"mb-3",controlId:"formBasicCheckbox",children:Object(h.jsx)(I.a.Control,{className:"editProfile-input",name:"cityFilter",value:d.cityFilter,onChange:function(e){return b(e)},type:"text",placeholder:"Por ciudad..."})}),Object(h.jsx)("button",{className:"editProfile-button",style:{cursor:"pointer"},children:"Editar"})]})]})},F=(c(126),function e(){var t=this;Object(o.a)(this,e),this.getAllDates=function(){return t.app.get("/")},this.createDate=function(e,c){return t.app.post("/new/".concat(c),e)},this.editDate=function(e,c){return t.app.post("/edit-date/".concat(e),c)},this.getOwnDates=function(e){return t.app.get("/mydates/".concat(e))},this.getUserDates=function(e){return t.app.get("/its-dates/".concat(e))},this.getByCategory=function(e){return t.app.get("/categoria/".concat(e))},this.getByCity=function(e){return t.app.get("/?city=".concat(e))},this.getByDay=function(e){return t.app.get("/byday-dates",e)},this.deleteDate=function(e){return t.app.delete("/delete/".concat(e))},this.app=d.a.create({baseURL:"".concat("https://mienteme.herokuapp.com/api","/dates")})}),D=function e(){var t=this;Object(o.a)(this,e),this.getAllRequestPending=function(){return t.app.get("/allRequestPending")},this.getRequestCreatedForMe=function(){return t.app.get("/myRequestsCreated")},this.getAllSecondsOpportunities=function(){return t.app.get("/allSecondsOpportunities")},this.getOneRequest=function(e){return t.app.get("/oneRequest")},this.create=function(e,c){return t.app.post("/create/".concat(e),c)},this.answer=function(e,c){return t.app.put("/".concat(e),c)},this.delete=function(e){return t.app.delete("/".concat(e))},this.app=d.a.create({baseURL:"".concat("https://mienteme.herokuapp.com/api","/request"),withCredentials:!0})},_=function e(){var t=this;Object(o.a)(this,e),this.getAllConversations=function(){return t.app.get("/")},this.create=function(e,c){return t.app.post("/create/".concat(e),c)},this.getOne=function(e){return t.app.get("private/".concat(e))},this.delete=function(e){return t.app.delete("/".concat(e))},this.app=d.a.create({baseURL:"".concat("https://mienteme.herokuapp.com/api","/conversation"),withCredentials:!0})},T=c(150),R=new F,M=new D,L=new _,U=(new _,function(e){var t=Object(a.useState)([]),c=Object(i.a)(t,2),n=c[0],s=c[1],r=Object(a.useState)([]),o=Object(i.a)(r,2),l=o[0],d=o[1],u=Object(a.useState)(!1),j=Object(i.a)(u,2),O=j[0],m=j[1],p=Object(a.useState)(!1),f=Object(i.a)(p,2),x=f[0],g=f[1],v=Object(a.useState)(!1),N=Object(i.a)(v,2),C=N[0],y=N[1],E=Object(a.useState)(!1),S=Object(i.a)(E,2),A=S[0],I=S[1];Object(a.useEffect)((function(){w()}),[e.user]);var w=function(){R.getUserDates(e.user._id).then((function(e){s(e.data)})).catch((function(e){return console.log("hay un error al conseguir las citas del otro en el front",e)}))},P=function(){m(!1)},k=function(){g(!1)},F=function(){y(!1)},D=function(e){m(!0),d(e)},_=function(){F(),k(),e.next()},U=function(){m(!1),g(!0),P();var t={idOtherUser:e.user._id};console.log("ME INTERESA ESTO para crear una conver",t,l._id,l),L.create(l._id,t).then((function(e){I(e.data._id),console.log("creando la conversaci\xf3n ==>",e.data)})).catch((function(e){return console.log("hay un error crear conver en el front",e)}))};console.log("CONVER",A);return Object(h.jsxs)("div",{className:"userCard-container",children:[Object(h.jsxs)("div",{className:"userCard-subcontainer",children:[Object(h.jsx)("img",{className:"userCard-img",src:e.user.profileImages}),Object(h.jsxs)("div",{className:"userCard-info-container",children:[Object(h.jsxs)("div",{className:"userCard-info-1",children:[Object(h.jsx)("p",{className:"userCard-name",children:e.user.username}),Object(h.jsx)("p",{className:"userCard-age",children:e.user.age})]}),Object(h.jsx)("p",{className:"userCard-bio",children:e.user.bio})]})]}),Object(h.jsx)("div",{className:"userCard-button-container",children:Object(h.jsx)("button",{className:"userCard-button",onClick:function(){return e.next()},children:"Siguiente"})}),e.dateSelected?Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("p",{className:"userCard-date-",children:[e.user.username," seleccion\xf3 tu cita"]}),Object(h.jsxs)("div",{className:"date",children:[Object(h.jsx)("p",{children:e.dateSelected.nameDate}),Object(h.jsx)("p",{className:"date-description",children:e.dateSelected.description}),Object(h.jsx)("p",{className:"date-category",children:e.dateSelected.category})]}),Object(h.jsx)("p",{className:"date-category",children:"\xbfQuieres darle una segunda oportunidad?"}),Object(h.jsx)("button",{onClick:function(){return function(t){var c={response:t};console.log("editando: LA REQUEST Y LA RESPUESTA",e.request,c),M.answer(e.request._id,c).then((function(t){console.log("EDITANDO REQUEST CON \xc9XITO==>",t.data),e.next()})).catch((function(e){return console.log("hay un error al modificar request en el front",e)}))}("YES")},children:"S\xed"}),Object(h.jsx)("button",{onClick:function(){return console.log("BORRANDO LA PETICI\xd3N, PORQUE HE DICHO QUE NO",e.request),void M.delete(e.request._id).then((function(t){console.log("BORRADA ==>",t.data),e.next()})).catch((function(e){return console.log("hay un error al BORRAR request en el front",e)}))},children:"No"})]}):Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("div",{className:"userCard-dates-home",children:Object(h.jsxs)("p",{className:"userCard-date-title",children:["Citas de ",e.user.username]})}),Object(h.jsx)("div",{className:"userCard-detail-date-home",children:null===n||void 0===n?void 0:n.map((function(e,t){return Object(h.jsx)("div",{className:"userCard-key",children:Object(h.jsxs)("div",{onClick:function(){return D(e)},className:"userCard-detail-date",children:[Object(h.jsx)("p",{className:"userCard-detail-date-name",children:e.nameDate}),Object(h.jsx)("p",{className:"userCard-detail-date-description",children:e.description}),Object(h.jsx)("div",{className:"userCard-detail-date-category-content",children:Object(h.jsx)("p",{className:"userCard-detail-date-category",children:e.category})})]})},t)}))})]}),Object(h.jsxs)(T.a,{show:O,backdrop:"static",onHide:P,className:"userCard-trivial-container",children:[Object(h.jsx)(T.a.Title,{className:"userCard-trivial-header",children:"\xbfCu\xe1l es la mentira?"}),Object(h.jsx)(T.a.Body,{children:Object(h.jsxs)("div",{className:"userCard-trivial-subcontainer",children:[Object(h.jsx)("div",{onClick:function(){return m(!1),void y(!0)},className:"",children:Object(h.jsx)("div",{className:"userCard-trivial-box",children:Object(h.jsx)("p",{className:"userCard-trivial-text",children:e.user.questionTrue})})}),Object(h.jsx)("div",{onClick:function(){return U()},className:"",children:Object(h.jsx)("div",{className:"userCard-trivial-box",children:Object(h.jsx)("p",{className:"userCard-trivial-text",children:e.user.questionFalse})})})]})})]}),Object(h.jsxs)(T.a,{show:x,backdrop:"static",className:"userCard-correctTrivial-container",onHide:k,children:[Object(h.jsx)(T.a.Title,{className:"userCard-correctTrivial-title",children:"\xa1\xa1\xa1Correcto!!!!"}),Object(h.jsx)(T.a.Body,{children:Object(h.jsxs)("div",{className:"userCard-correctTrivial-subcontainer",children:[Object(h.jsx)(b.b,{className:"userCard-correctTrivial-chat",to:"/chat/".concat(A,"/").concat(e.user._id),style:{margin:"10px"},children:Object(h.jsxs)("p",{children:["Chatea con ",e.user.username]})}),Object(h.jsx)(b.b,{to:"/click-me",style:{margin:"10px"},children:Object(h.jsx)("button",{className:"userCard-correctTrivial-button",onClick:function(){return _()},children:"M\xe1s tarde"})})]})})]}),Object(h.jsxs)(T.a,{show:C,backdrop:"static",onHide:F,children:[Object(h.jsxs)(T.a.Title,{className:"search-card color",children:["Fallaste, \xbfQuieres pedirle a ",e.user.username," una segunda oportunidad?"]}),Object(h.jsxs)(T.a.Body,{children:[Object(h.jsx)("button",{onClick:function(){return console.log("cita seleccionada y su creador CREANDO CON ESTO",l,e.user._id),void M.create(l._id,e.user).then((function(e){_(),console.log("creando la request ==>",e.data)})).catch((function(e){return console.log("hay un error al crear request en el front",e)}))},children:"S\xed "}),Object(h.jsx)(b.b,{to:"/click-me",style:{margin:"10px"},children:Object(h.jsx)("button",{onClick:function(){return _()},children:"No, next"})}),Object(h.jsx)(b.b,{to:"/click-me",style:{margin:"10px"},children:Object(h.jsx)("button",{onClick:function(){return _()},children:"Next"})})]})]})]})}),B=function(){var e=Object(a.useContext)(Ie).usersFiltered,t=Object(a.useState)(void 0),c=Object(i.a)(t,2),n=c[0],s=c[1];console.log(" CONTEXTO todos los usuarios: ",e),Object(a.useEffect)((function(){e&&r()}),[e]);var r=function(){var t=Math.floor(Math.random()*e.length),c=e.splice(t,1),a=Object(i.a)(c,1)[0];console.log("esta es mi usuario random: ",a),s(a)};return Object(h.jsx)(h.Fragment,{children:n?Object(h.jsx)(U,{user:n,next:function(){return r()}}):Object(h.jsx)("div",{className:"search-card color",style:{width:"100%",height:"100vh"},children:Object(h.jsxs)("h3",{children:["Hazte ",Object(h.jsx)(b.b,{to:"/https://www.youtube.com/watch?v=zIY87vU33aA&t=17s",children:"PREMIUM"})," para seguir viendo perfiles"]})})})},G=new F,q=function(e){var t=Object(j.f)(),c=Object(a.useContext)(g).loggedUser,n=Object(a.useState)({nameDate:"",description:"",city:"",category:"",day:""}),s=Object(i.a)(n,2),r=s[0],o=s[1];Object(a.useEffect)((function(){e.dateSelected?o({nameDate:e.dateSelected.nameDate,description:e.dateSelected.description,city:e.dateSelected.city,category:e.dateSelected.category,day:e.dateSelected.day}):o({nameDate:"",description:"",city:"",category:"",day:""})}),[]);var l=function(e){var t=e.target,c=t.name,a=t.value;o(Object(p.a)(Object(p.a)({},r),{},Object(m.a)({},c,a)))};return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("p",{children:"El formulario de editar cita"}),Object(h.jsxs)(I.a,{onSubmit:function(a){a.preventDefault(),e.dateSelected?G.editDate(e.dateSelected._id,r).then((function(t){e.closeModal(),console.log("BIEN! EDITANDO CITAS",t.data)})).catch((function(e){return console.error(e)})):G.createDate(r,c._id).then((function(c){e.closeModal(),t.push("/perfil"),console.log("BIEN! CREANDO MI PRIMERA CITA",c.data)})).catch((function(e){return console.error(e)}))},children:[Object(h.jsxs)(I.a.Group,{className:"mb-3",controlId:"formBasicEmail",children:[Object(h.jsx)(I.a.Label,{}),Object(h.jsx)(I.a.Control,{name:"nameDate",value:r.nameDate,onChange:function(e){return l(e)},type:"text",placeholder:"Nombre de cita"})]}),Object(h.jsx)(I.a.Group,{className:"mb-3",controlId:"formBasicCheckbox",children:Object(h.jsx)(I.a.Check,{name:"description",value:r.description,onChange:function(e){return l(e)},type:"text",label:"",placeholder:"Descripci\xf3n"})}),Object(h.jsx)(I.a.Group,{className:"mb-3",controlId:"formBasicCheckbox",children:Object(h.jsx)(I.a.Check,{name:"city",value:r.city,onChange:function(e){return l(e)},type:"text",placeholder:"Ciudad"})}),Object(h.jsx)(I.a.Group,{className:"mb-3",controlId:"formBasicCheckbox",children:Object(h.jsx)(I.a.Check,{name:"day",value:r.day,onChange:function(e){return l(e)},type:"text",placeholder:"D\xeda"})}),Object(h.jsx)(I.a.Group,{className:"mb-3",controlId:"formBasicCheckbox",children:Object(h.jsx)(I.a.Check,{name:"category",value:r.category,onChange:function(e){return l(e)},type:"text",placeholder:"Categor\xeda"})}),e.dateSelected?Object(h.jsx)("button",{className:"signup",style:{cursor:"pointer"},children:"Editar"}):Object(h.jsx)("button",{className:"signup",style:{cursor:"pointer"},children:"Crear"})]})]})},H=(new A,new S),V=function(){var e=Object(j.f)(),t=Object(a.useState)(!1),c=Object(i.a)(t,2),n=c[0],s=c[1],r=Object(a.useContext)(g),o=r.loggedUser,l=r.storeUser,d=Object(a.useState)({username:"",profileImages:"",age:"",gender:"",bio:"",genderFilter:"",ageFirstFilter:void 0,ageSecondFilter:void 0,cityFilter:void 0,city:"",questionTrue:"",questionFalse:"",clue:""}),u=Object(i.a)(d,2),b=u[0],O=u[1],f=function(e){var t=e.target,c=t.name,a=t.value;O(Object(p.a)(Object(p.a)({},b),{},Object(m.a)({},c,a)))},x=function(){s(!0)},v=function(){s(!1),e.push("/click-me")};return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("h1",{children:"Editar Perfil"}),Object(h.jsxs)(I.a,{className:"",onSubmit:function(e){e.preventDefault(),H.editProfile(o._id,b).then((function(e){l(e.data),x()})).catch((function(e){return console.error(e)}))},children:[Object(h.jsxs)(I.a.Group,{className:"mb-3",controlId:"formBasicEmail",children:[Object(h.jsx)("div",{className:"editProfile-data",children:"Username"}),Object(h.jsx)(I.a.Label,{}),Object(h.jsx)(I.a.Control,{className:"editProfile-input",name:"username",value:b.username,onChange:function(e){return f(e)},type:"text",placeholder:"Nombre de usuario"})]}),Object(h.jsxs)(I.a.Group,{className:"mb-3",controlId:"formBasicCheckbox",children:[Object(h.jsx)("div",{className:"editProfile-data",children:"Edad"}),Object(h.jsx)(I.a.Control,{className:"editProfile-input",name:"age",value:b.age,onChange:function(e){return f(e)},type:"number",placeholder:"Edad"})]}),Object(h.jsxs)(I.a.Group,{className:"mb-3",controlId:"formBasicCheckbox",children:[Object(h.jsx)("div",{className:"editProfile-data",children:"Bio"}),Object(h.jsx)(I.a.Control,{className:"editProfile-input",name:"bio",value:b.bio,onChange:function(e){return f(e)},type:"textarea",placeholder:"Acerca de m\xed"})]}),Object(h.jsxs)(I.a.Group,{className:"mb-3",controlId:"formBasicCheckbox",children:[Object(h.jsx)("div",{className:"editProfile-data",children:"Ciudad"}),Object(h.jsx)(I.a.Control,{className:"editProfile-input",name:"city",value:b.city,onChange:function(e){return f(e)},type:"text",placeholder:"Ciudad"})]}),Object(h.jsxs)(I.a.Group,{className:"mb-3",controlId:"formBasicCheckbox",children:[Object(h.jsx)("div",{className:"editProfile-data",children:"Pregunta verdadera"}),Object(h.jsx)(I.a.Control,{className:"editProfile-input",name:"questionTrue",value:b.questionTrue,onChange:function(e){return f(e)},type:"text",placeholder:"Pregunta Verdadera"})]}),Object(h.jsxs)(I.a.Group,{className:"mb-3",controlId:"formBasicCheckbox",children:[Object(h.jsx)("div",{className:"editProfile-data",children:"Pregunta Falsa"}),Object(h.jsx)(I.a.Control,{className:"editProfile-input",name:"questionFalse",value:b.questionFalse,onChange:function(e){return f(e)},type:"text",placeholder:"Pregunta Falsa"})]}),Object(h.jsxs)(I.a.Group,{className:"mb-3",controlId:"formBasicCheckbox",children:[Object(h.jsx)("div",{className:"editProfile-data",children:"Pista"}),Object(h.jsx)(I.a.Control,{className:"editProfile-input",name:"clue",value:b.clue,onChange:function(e){return f(e)},type:"text",placeholder:"Pon una pista..."})]}),Object(h.jsx)("br",{}),Object(h.jsx)("h3",{className:"editProfile-h3",children:"\xbfCon qui\xe9n quieres quedar?"}),Object(h.jsxs)(I.a.Group,{className:"mb-3",controlId:"formBasicCheckbox",children:[Object(h.jsx)("p",{className:"editProfile-data",children:"G\xe9nero"}),Object(h.jsx)(I.a.Control,{className:"editProfile-input",name:"genderFilter",value:b.genderFilter,onChange:function(e){return f(e)},type:"text",placeholder:"\xbfMujer, hombre o ambos?"})]}),Object(h.jsx)("p",{className:"editProfile-data",children:"Edad"}),Object(h.jsxs)(I.a.Group,{className:"mb-3",controlId:"formBasicCheckbox",children:[" ",Object(h.jsx)("p",{className:"editProfile-data",children:"Edad(desde/hasta)"}),Object(h.jsx)(I.a.Control,{className:"editProfile-input",name:"ageFirstFilter",value:b.ageFirstFilter,onChange:function(e){return f(e)},type:"text",placeholder:"Filtra por edad, introduce un n\xfamero "})]}),Object(h.jsx)(I.a.Group,{className:"mb-3",controlId:"formBasicCheckbox",children:Object(h.jsx)(I.a.Control,{className:"editProfile-input",name:"ageSecondFilter",value:b.ageSecondFilter,onChange:function(e){return f(e)},type:"text",placeholder:"hasta..."})}),Object(h.jsx)("p",{className:"editProfile-data",children:"Ciudad"}),Object(h.jsx)(I.a.Group,{className:"mb-3",controlId:"formBasicCheckbox",children:Object(h.jsx)(I.a.Control,{className:"editProfile-input",name:"ageSecondFilter",value:b.cityFilter,onChange:function(e){return f(e)},type:"text",placeholder:"Filtra por ciudad..."})}),Object(h.jsx)("button",{className:"editProfile-button",style:{cursor:"pointer"},children:"Guardar"})]}),Object(h.jsxs)(T.a,{show:n,backdrop:"static",onHide:v,children:[Object(h.jsx)(T.a.Header,{closeButton:!0,children:Object(h.jsx)(T.a.Title,{children:"Crea tu primera cita"})}),Object(h.jsx)(T.a.Body,{children:Object(h.jsx)(q,{closeModal:v})})]})]})},Q=(c(127),c(128),function e(){var t=this;Object(o.a)(this,e),this.getAllMessages=function(e){return t.app.get("/allMessages/".concat(e))},this.getLastMessage=function(e){return t.app.get("/lastMessage/".concat(e))},this.create=function(e,c){return t.app.post("/".concat(c),e)},this.deleteMessage=function(e,c){return t.app.delete("/deleteMessage/".concat(e),c)},this.app=d.a.create({baseURL:"".concat("https://mienteme.herokuapp.com/api","/messages"),withCredentials:!0})}),Y=new _;function z(e){var t,c=e.members,n=e.dateSelected,s=e._id,r=e.createdAt,o=Object(j.f)(),l=new Date(r);console.log("MEMBERS!!!!!!!!!!",c);var d=(t={},Object(m.a)(t,1,"Enero"),Object(m.a)(t,2,"Febrero"),Object(m.a)(t,3,"Marzo"),Object(m.a)(t,4,"Abril"),Object(m.a)(t,5,"Mayo"),Object(m.a)(t,6,"Junio"),Object(m.a)(t,7,"Julio"),Object(m.a)(t,8,"Agosto"),Object(m.a)(t,9,"Septiembre"),Object(m.a)(t,10,"Octubre"),Object(m.a)(t,11,"Noviembre"),Object(m.a)(t,12,"Diciembre"),t),u=l.getDate(),O=l.getMonth()+1;O=d[O].slice(0,3);var p=new Q,f=Object(a.useContext)(g).loggedUser;console.log("mira este id a las 12",s),console.log("dateSelected",n);var x=Object(a.useState)(void 0),v=Object(i.a)(x,2),N=v[0],C=v[1],y=Object(a.useState)(""),E=Object(i.a)(y,2),S=E[0],A=E[1],I=Object(a.useState)(!1),w=Object(i.a)(I,2),P=w[0],k=w[1];Object(a.useEffect)((function(){s&&F()}),[P]),Object(a.useEffect)((function(){c[0]._id!==f._id?C(c[0]):C(c[1])}),[P]);var F=function(){p.getLastMessage(s).then((function(e){A(e.data[0])})).catch((function(e){return console.log(e)}))};return console.log("LAST MESSAGE",S),Object(h.jsxs)("div",{className:"global",children:[Object(h.jsx)(b.b,{to:"/chat/".concat(s,"/").concat(null===N||void 0===N?void 0:N._id),style:{textDecoration:"none",color:"black"},children:Object(h.jsxs)("div",{className:"conversation",children:[Object(h.jsxs)("div",{className:"chatOnlineImgContainer",children:[Object(h.jsxs)("p",{className:"",children:[Object(h.jsx)("strong",{children:null===N||void 0===N?void 0:N.username})," eligi\xf3: ",null===n||void 0===n?void 0:n.nameDate]}),Object(h.jsx)("img",{className:"chatOnlineImg",src:null===N||void 0===N?void 0:N.profileImages,alt:""})]}),Object(h.jsx)("p",{className:"last-message",children:null===S||void 0===S?void 0:S.message}),Object(h.jsxs)("p",{className:"d-m",children:[u," de ",O]})]})}),Object(h.jsx)("div",{className:"bachat",children:Object(h.jsx)("img",{className:"delete-icon",onClick:function(){return function(e){var t=e;console.log("Marcusss",e),Y.delete(t).then((function(e){console.log("borrando una conver --------",e.data),k(!P),o.push("/chat")})).catch((function(e){return console.log(e)}))}(s)},src:"https://img.icons8.com/external-kiranshastry-solid-kiranshastry/64/000000/external-delete-miscellaneous-kiranshastry-solid-kiranshastry.png"})}),Object(h.jsx)("hr",{style:{margin:"auto auto auto 80px"},className:"barra"})]})}var J=new _;function X(){var e=Object(a.useState)(void 0),t=Object(i.a)(e,2),c=t[0],n=t[1],s=Object(a.useState)(void 0),r=Object(i.a)(s,2);r[0],r[1];Object(a.useEffect)((function(){o()}),[]);var o=function(){J.getAllConversations().then((function(e){console.log("todas las convers--------",e.data),n(e.data)})).catch((function(e){return console.log(e)}))};return Object(h.jsxs)("div",{className:"chatOnline",children:[Object(h.jsx)("h1",{children:"Chat"}),Object(h.jsx)("input",{type:"searchbar",className:"searchBar",placeholder:"buscar a..."}),null===c||void 0===c?void 0:c.map((function(e,t){return Object(h.jsx)(z,Object(p.a)({},e),t)}))]})}c(62),c(129);function K(e){var t=e.message;console.log(t,"ALGOOOOOO");var c=Object(a.useContext)(g).loggedUser;return console.log("SENDER",null===t||void 0===t?void 0:t.sender),Object(h.jsx)(h.Fragment,{children:(null===t||void 0===t?void 0:t.sender._id)===c._id?Object(h.jsx)("div",{className:"post-loggedUser",children:Object(h.jsxs)("div",{className:"postCenter",children:[Object(h.jsx)("span",{className:"postText",children:t.message}),Object(h.jsx)("span",{className:"postText",children:t.createAt})]})}):Object(h.jsxs)("div",{className:"post-match",children:[Object(h.jsx)("div",{className:"profile-pic-chat",children:Object(h.jsx)("img",{className:"picture-chat",src:t.sender.profileImages,alt:""})}),Object(h.jsx)("div",{className:"",children:Object(h.jsx)("span",{className:"postText-match",children:t.message})})]})})}c(130);var W,Z=c(90),$=new S,ee=(new _,new Q);function te(){var e=Object(a.useContext)(g).loggedUser,t=Object(j.g)(),c=t.idConver,n=t.match;console.log("MI MATCH:",n);var s=Object(a.useState)(""),r=Object(i.a)(s,2),o=r[0],l=r[1],d=Object(a.useState)(void 0),u=Object(i.a)(d,2),O=u[0],m=u[1],p=Object(a.useState)(void 0),f=Object(i.a)(p,2),x=(f[0],f[1],Object(a.useState)(void 0)),v=Object(i.a)(x,2),N=v[0],C=v[1],y=Object(a.useState)(""),E=Object(i.a)(y,2),S=E[0],A=E[1],I=Object(a.useState)(void 0),w=Object(i.a)(I,2);w[0],w[1];Object(a.useEffect)((function(){k(),F()}),[]);var P=function(){console.log("LA CONVER",c),ee.getAllMessages(c).then((function(e){console.log(e,"UN CONSOLE.LOG MAS"),m(e.data)})).catch((function(e){return console.error(e)})),console.log("MENSAJES:",O)},k=function(){$.getOneUser(n).then((function(e){console.log("AAAAAAAAA",e.data[0]),C(e.data[0])})).catch((function(e){return console.log(e)}))},F=function(){var t=e.username;W=Object(Z.a)("https://mienteme.herokuapp.com",{cors:{origin:"https://mienteme.herokuapp.com",credentials:!0},transports:["websocket"]});var c=[null===N||void 0===N?void 0:N._id.split(""),null===e||void 0===e?void 0:e._id.split("")].sort().join("");l("".concat(c)),W.emit("join",{username:t,room:o},(function(){P()})),W.emit("conectado","online")};Object(a.useEffect)((function(){return W.on("receiveMessages",(function(e){P()})),function(){W.off()}}),[S]);var D=Object(a.useRef)(null);return Object(a.useEffect)((function(){D.current.scrollIntoView({behavior:"smooth"})})),Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)("div",{className:"privateChat",children:[Object(h.jsxs)("div",{className:"postTopLeft",children:[Object(h.jsx)(b.b,{to:"/match/".concat(null===N||void 0===N?void 0:N._id),children:Object(h.jsx)("img",{className:"postProfileImg",src:null===N||void 0===N?void 0:N.profileImages,alt:""})}),Object(h.jsxs)("span",{className:"name-chat",children:[null===N||void 0===N?void 0:N.username,"    ",null===N||void 0===N?void 0:N.age," "]})]}),Object(h.jsx)("hr",{}),Object(h.jsxs)("div",{className:"feedWrapper",children:[Object(h.jsxs)("div",{className:"ave",children:[null===O||void 0===O?void 0:O.map((function(e,t){return Object(h.jsx)(K,{message:e},t)})),Object(h.jsx)("div",{ref:D})]}),Object(h.jsxs)("form",{onSubmit:function(t){t.preventDefault(),""!==S&&(W.emit("sendMessage",S),A(""));var a={message:S,sender:e._id,receiver:N._id};ee.create(a,c).then((function(e){return console.log("CREANDO MENSAJE",e.data)})).catch((function(e){return console.error(e)}))},className:"postBottom",children:[Object(h.jsx)("input",{value:S,onChange:function(e){return A(e.target.value)},type:"area",className:"writeMessage",placeholder:"escribe un mensaje..."}),Object(h.jsx)("button",{className:"send-msg",children:" ENVIAR"})]})]})]})})}c(135);var ce=function(e){return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("h1",{className:"search-h1",children:"CLICK-ME"}),Object(h.jsxs)("div",{className:"search-container",children:[Object(h.jsxs)("div",{className:"search-box",children:[Object(h.jsx)(b.b,{to:"categoria/GASTRONOMY",style:{margin:"10px"},children:Object(h.jsx)("div",{className:"search-card one",children:Object(h.jsxs)("p",{className:"search-title",children:["GASTRONOM\xcdA",Object(h.jsx)("br",{})," brunch "]})})}),Object(h.jsx)(b.b,{to:"categoria/CULTURE",style:{margin:"10px"},children:Object(h.jsx)("div",{className:"search-card three",children:Object(h.jsx)("p",{className:"search-title",children:"CULTURA"})})})]}),Object(h.jsxs)("div",{className:"search-box",children:[Object(h.jsx)(b.b,{to:"categoria/NATURE",style:{margin:"10px"},children:Object(h.jsx)("div",{className:"search-card two",children:Object(h.jsx)("p",{className:"search-title",children:"NATURALEZA"})})}),Object(h.jsx)(b.b,{to:"/calendario",style:{margin:"10px"},children:Object(h.jsx)("div",{className:"search-card four",children:Object(h.jsx)("p",{className:"search-title",children:"ELIGE EL D\xcdA DE LA SEMANA"})})})]}),Object(h.jsx)(b.b,{to:"/ciudad",style:{margin:"10px"},children:Object(h.jsx)("div",{className:"search-card four",children:Object(h.jsx)("p",{className:"search-title",children:"ELIGE EL D\xcdA DE LA SEMANA"})})}),Object(h.jsxs)("div",{className:"search-box",children:[Object(h.jsx)(b.b,{to:"categoria/RANDOM",style:{margin:"10px"},children:Object(h.jsx)("div",{className:"search-card two",children:Object(h.jsx)("p",{className:"search-title",children:"RANDOM"})})}),Object(h.jsx)(b.b,{to:"/todas",style:{margin:"10px"},children:Object(h.jsx)("div",{className:"search-card two",children:Object(h.jsx)("p",{className:"search-title",children:"TODAS"})})})]})]})]})},ae=(c(136),new D),ne=function(){var e=Object(a.useState)(void 0),t=Object(i.a)(e,2),c=t[0],n=t[1],s=Object(a.useState)(void 0),r=Object(i.a)(s,2),o=r[0],l=r[1];Object(a.useEffect)((function(){d()}),[]);var d=function(){ae.getAllRequestPending().then((function(e){var t,c;console.log("PETICIONES PENDIENTES",e.data);var a=Math.floor(Math.random()*(null===(t=e.data)||void 0===t?void 0:t.length)),s=null===(c=e.data)||void 0===c?void 0:c.splice(a,1),r=Object(i.a)(s,1)[0];console.log("la desestructuracion del array",r),n(r),l(e.data)})).catch((function(e){return console.log(e)}))};return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("p",{children:"Peticiones pendientes"}),Object(h.jsx)("div",{className:"second-card",children:c?Object(h.jsx)(U,{user:c.creator,dateSelected:c.dateSelected,request:c,next:function(){var e=Math.floor(Math.random()*(null===o||void 0===o?void 0:o.length)),t=null===o||void 0===o?void 0:o.splice(e,1),c=Object(i.a)(t,1)[0];n(c)}}):Object(h.jsx)("p",{children:"No tienes Peticiones pendientes"})})]})},se=(c(137),new D),re=function(){var e=Object(a.useState)(void 0),t=Object(i.a)(e,2),c=t[0],n=t[1],s=Object(a.useState)(void 0),r=Object(i.a)(s,2),o=r[0],l=r[1];Object(a.useEffect)((function(){d()}),[]);var d=function(){se.getAllSecondsOpportunities().then((function(e){var t;l(e.data);var c=Math.floor(Math.random()*e.data.length),a=null===(t=e.data)||void 0===t?void 0:t.splice(c,1),s=Object(i.a)(a,1)[0];n(s),u()})).catch((function(e){return console.log(e)}))},u=function(){var e=Math.floor(Math.random()*o.length),t=null===o||void 0===o?void 0:o.splice(e,1),c=Object(i.a)(t,1)[0];n(c)};return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("p",{className:"text-seccondOpp",children:"Te ha dado una Segunda Oportunidad"}),Object(h.jsx)("div",{className:"second-card",children:c?Object(h.jsx)(U,{user:c.receiver,next:u}):Object(h.jsx)("p",{children:"Vuelve m\xe1s tarde, ya has agotado todas tus segundas oportunidades"})})]})},ie=(c(138),function(){return Object(h.jsxs)("div",{className:"footerNav-container",children:[Object(h.jsx)(b.b,{className:"link",to:"/click-me",children:Object(h.jsx)("img",{className:"user",src:"https://upload.wikimedia.org/wikipedia/commons/thumb/9/98/OOjs_UI_icon_userAvatar.svg/2048px-OOjs_UI_icon_userAvatar.svg.png"})}),Object(h.jsx)(b.b,{className:"link",to:"/segundas-oportunidades",children:Object(h.jsx)("img",{className:"second-chance",src:"https://www.pngkit.com/png/full/352-3520722_arrow-repeat-comments-repost-logo-png.png"})}),Object(h.jsx)(b.b,{to:"/buscar",children:Object(h.jsx)("img",{className:"search",src:"https://www.freeiconspng.com/uploads/search-icon-png-1.png"})}),Object(h.jsx)(b.b,{className:"link",to:"/peticiones",children:Object(h.jsx)("img",{className:"request",src:"https://static.thenounproject.com/png/2714894-200.png"})}),Object(h.jsx)(b.b,{className:"link",to:"/chat",children:Object(h.jsx)("img",{className:"chat",src:"http://cdn.onlinewebfonts.com/svg/img_53145.png"})})]})}),oe=(c(139),new u),le=function(){var e=Object(a.useContext)(g),t=e.storeUser,c=e.loggedUser,n=Object(j.f)();return Object(h.jsxs)("div",{className:"header-nav",children:[Object(h.jsx)(b.b,{to:"/perfil",style:{margin:"10px"},children:Object(h.jsx)("img",{className:"header-profile-pic",src:c.profileImages[0]})}),Object(h.jsx)("h1",{style:{color:"rgba(255, 172, 201, 0.8)"},className:"header-nav-h1",children:"MI\xc9NTEME"}),Object(h.jsx)("img",{className:"logout",style:{cursor:"pointer"},onClick:function(e){e.preventDefault(),oe.logout().then((function(){t(null),n.push("/")})).catch((function(e){return console.error(e)}))},src:"https://iconape.com/wp-content/files/ij/9415/png/01-16.png"})]})},de=(c(140),new F),ue=function(){var e=Object(a.useContext)(g).loggedUser,t=Object(a.useState)([]),c=Object(i.a)(t,2),n=c[0],s=c[1],r=Object(a.useState)(void 0),o=Object(i.a)(r,2),l=o[0],d=o[1],u=Object(a.useState)(!1),j=Object(i.a)(u,2),O=j[0],m=j[1],p=Object(a.useState)(!1),f=Object(i.a)(p,2),x=f[0];f[1];Object(a.useEffect)((function(){v()}),[O]);var v=function(){de.getOwnDates(e._id).then((function(e){s(e.data),console.log("estoy mirando mis citas en mi perfil ==>",e.data)})).catch((function(e){return console.log("hay un error al conseguir las citas del otro en el front",e)}))},N=function(){m(!1)};return Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)("div",{className:"card-pic-container",children:[Object(h.jsx)("img",{className:"card-pic",src:e.profileImages[0]}),Object(h.jsxs)("div",{className:"all-card-info",children:[Object(h.jsxs)("div",{className:"card-info",children:[Object(h.jsx)("p",{className:"card-name",children:e.username}),Object(h.jsx)("p",{className:"card-age",children:e.age})]}),Object(h.jsx)("p",{className:"card-bio",children:e.bio})]}),Object(h.jsxs)("div",{className:"box-content",children:[Object(h.jsx)("p",{className:"card-date-title",children:"Mis citas"}),Object(h.jsx)(b.b,{className:"userProfile-link",to:"/editar-perfil",children:"Editar perfil"})]}),Object(h.jsx)("button",{onClick:function(){return m(!0)},children:"Crea una cita"}),Object(h.jsx)("div",{className:"date",children:null===n||void 0===n?void 0:n.map((function(e,t){return Object(h.jsx)("div",{children:Object(h.jsxs)("div",{className:"userProfile-date-detail",children:[Object(h.jsx)("p",{className:"userProfile-date-name",children:e.nameDate}),Object(h.jsx)("p",{className:"date-description",children:e.description}),Object(h.jsx)("p",{className:"date-category",children:e.category}),Object(h.jsx)("button",{onClick:function(){return t=e,m(!0),void d(t);var t},className:"userProfile-date-button",children:"Editar "}),Object(h.jsx)("button",{onClick:function(){return t=e._id,void de.deleteDate(t).then((function(e){console.log("ELIMINANDO CON \xc9XITO ==>",e.data)})).catch((function(e){return console.log("hay un error al conseguir las citas del otro en el front",e)}));var t},className:"userProfile-date-button",children:"Borrar "})]})},t)}))}),Object(h.jsxs)(T.a,{show:O,backdrop:"static",onHide:N,children:[Object(h.jsx)(T.a.Header,{closeButton:!0,children:Object(h.jsx)(T.a.Title,{children:"Edita tu cita"})}),Object(h.jsx)(T.a.Body,{children:Object(h.jsx)(q,{dateSelected:l,closeModal:N})})]}),Object(h.jsxs)(T.a,{show:x,backdrop:"static",onHide:function(){m(!1)},children:[Object(h.jsx)(T.a.Header,{closeButton:!0,children:Object(h.jsx)(T.a.Title,{children:"Crea una cita"})}),Object(h.jsx)(T.a.Body,{children:Object(h.jsx)(q,{closeModal:N})})]})]})})};function je(e){var t=e.nameDate,c=e.description,a=e.creator,n=e.day;return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("div",{className:"conversation",children:[Object(h.jsxs)("div",{className:"chatOnlineImgContainer",children:[Object(h.jsx)("p",{children:t}),Object(h.jsx)("p",{children:c}),Object(h.jsxs)(b.b,{to:"/match/".concat(a._id),style:{marginLeft:"500px",textDecoration:"none"},children:[Object(h.jsx)("p",{children:a.username}),Object(h.jsx)("p",{children:a.age})]})]}),Object(h.jsx)("div",{className:"date",children:Object(h.jsx)("p",{children:n})})]}),Object(h.jsx)("hr",{})]})}var be=new F,he=function(){var e=Object(j.g)().category;console.log("PARAMAS",e);var t=Object(a.useContext)(Ie).usersFiltered,c=Object(a.useState)([]),n=Object(i.a)(c,2),s=(n[0],n[1]),r=Object(a.useState)([]),o=Object(i.a)(r,2),l=o[0],d=o[1];console.log(" CONTEXTO filtrado de todos los usuarios: ",t),Object(a.useEffect)((function(){u()}),[]);var u=function(){be.getByCategory(e).then((function(e){console.log("ALL DATES BY CATEGORY___>",e.data),s(e.data);for(var c=[],a=function(a){var n=e.data.filter((function(e){var c,n;return(null===(c=e.creator)||void 0===c?void 0:c._id)===(null===(n=t[a])||void 0===n?void 0:n._id)}));n&&n.forEach((function(e){return c.push(e)}))},n=0;n<(null===t||void 0===t?void 0:t.length);n++)a(n);console.log("ARR DATES",c),d(c)})).catch((function(e){return console.log(e)})),console.log("DATES BY CATEGORY",l)};return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(b.b,{to:"/buscar",style:{marginLeft:"100vh",textDecoration:"none"},children:Object(h.jsx)("button",{className:"search-title",children:"VOLVER"})}),Object(h.jsx)("h1",{className:"search-h1",children:"Citas"}),null===l||void 0===l?void 0:l.map((function(e,t){return Object(h.jsx)(je,Object(p.a)({},e))}))]})},Oe=new F,me=function(){var e=Object(a.useContext)(Ie).usersFiltered,t=Object(a.useState)(void 0),c=Object(i.a)(t,2),n=(c[0],c[1]),s=Object(a.useState)(void 0),r=Object(i.a)(s,2),o=r[0],l=r[1];console.log(" CONTEXTO de todos los usuarios: ",e),Object(a.useEffect)((function(){d()}),[]);var d=function(){Oe.getAllDates().then((function(t){console.log("ALL DATES ___>",t.data),n(t.data);for(var c=[],a=function(a){var n=t.data.filter((function(t){var c,n;return(null===(c=t.creator)||void 0===c?void 0:c._id)===(null===(n=e[a])||void 0===n?void 0:n._id)}));n&&n.forEach((function(e){return c.push(e)}))},s=0;s<(null===e||void 0===e?void 0:e.length);s++)a(s);console.log("ARR DATES",c),l(c),console.log("FILTRADAS TODAS LAS CITAS ___>",o)})).catch((function(e){return console.log(e)}))};return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(b.b,{to:"/buscar",style:{marginLeft:"100vh",textDecoration:"none"},children:Object(h.jsx)("button",{className:"search-title",children:"VOLVER"})}),Object(h.jsx)("h1",{className:"search-h1",children:"TODAS LAS CITAS"}),null===o||void 0===o?void 0:o.map((function(e,t){return Object(h.jsx)(je,Object(p.a)({},e),t)}))]})},pe=new S,fe=function(){var e,t=Object(j.g)().id,c=Object(a.useState)([]),n=Object(i.a)(c,2),s=n[0],r=n[1];console.log("ID DE BEGO\xd1A",t),Object(a.useEffect)((function(){o(t)}),[]);var o=function(e){pe.getOneUser(e).then((function(e){r(e.data)})).catch((function(e){return console.log("hay un error al conseguir las citas del otro en el front",e)}))};return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("p",{children:"Se est\xe1 renderizando Profile Match"}),(null===(e=s[0])||void 0===e?void 0:e._id)?Object(h.jsx)(U,{user:s[0]}):Object(h.jsx)("h3",{children:"CARGANDO..."})]})},xe=c(13),ge=c(18),ve=c(17),Ne=c(69),Ce=(c(141),c(142),c(48)),ye=c.n(Ce),Ee=(c(144),new F,Object(Ne.b)(ye.a));ye.a.locale("en-ES");var Se=function(e){Object(ge.a)(c,e);var t=Object(ve.a)(c);function c(){var e;Object(o.a)(this,c);for(var a=arguments.length,n=new Array(a),s=0;s<a;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))).state={events:[{start:ye()().toDate(),end:ye()().add(1,"days").toDate(),title:"Paseo por el Retiro"}],selectedDate:void 0},e}return Object(xe.a)(c,[{key:"render",value:function(){var e=this;return Object(h.jsx)("div",{className:"calendar",children:Object(h.jsx)(Ne.a,{localizer:Ee,culture:"es-ES",events:this.state.events,onNavigate:function(t){e.setState({selectedDate:t})},startAccessor:"start",defaultDate:new Date,defaultView:"month",endAccessor:"end",views:["month"],selectable:"true",onClickDay:function(e){console.log(" VIENDO EL CALENDARIO",e)},onClickEvent:function(e){console.log(" VIENDO EL CALENDARIO, ON CLICK eVENET",e)},style:{height:"70vh",width:"70vw",margin:"auto",border:"rgba(255, 172, 201, 0.8)",cursor:"pointer"}})})}}]),c}(a.Component),Ae=Se,Ie=n.a.createContext(),we=new S,Pe=new _,ke=new D,Fe=function(){var e=Object(a.useContext)(g).loggedUser,t=Object(a.useState)(void 0),c=Object(i.a)(t,2),n=c[0],s=c[1],r=Object(a.useState)(void 0),o=Object(i.a)(r,2),l=o[0],d=o[1],u=Object(a.useState)(void 0),b=Object(i.a)(u,2),O=b[0],m=b[1],p=Object(a.useState)(void 0),f=Object(i.a)(p,2),x=f[0],v=f[1];Object(a.useEffect)((function(){N()}),[]),Object(a.useEffect)((function(){n&&C()}),[n]),Object(a.useEffect)((function(){l&&y()}),[l]),Object(a.useEffect)((function(){O&&E()}),[O]);var N=function(){we.getAllUsers().then((function(t){var c=t.data.filter((function(t){return t._id!==e._id}));console.log("TODOS MENOS YO",c),s(c)})).catch((function(e){return console.log(e)}))},C=function(){Pe.getAllConversations().then((function(t){var c=t.data.map((function(t){return t.members.filter((function(t){return t._id!==e._id}))[0]})),a=null===n||void 0===n?void 0:n.filter((function(e){return!c.some((function(t){return t._id===e._id}))}));console.log("QUITO MIS CONVERS",a),d(a)})).catch((function(e){return console.log(e)}))},y=function(){ke.getAllRequestPending().then((function(e){var t=e.data.map((function(e){return e.creator})),c=null===l||void 0===l?void 0:l.filter((function(e){return!t.some((function(t){return t._id===e._id}))}));console.log("QUITO LAS REQUEST PENDING QUE RECIBO",c),m(c)})).catch((function(e){return console.log(e)}))},E=function(){ke.getRequestCreatedForMe().then((function(e){var t=e.data.map((function(e){return e.receiver})),c=null===O||void 0===O?void 0:O.filter((function(e){return!t.some((function(t){return t._id===e._id}))}));console.log("QUITO ADEM\xc1S LAS REQUEST CREADAS POR MI, A LA ESPERA DE SER CONTESTADAS",c),v(c)})).catch((function(e){return console.log(e)}))};return Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)("main",{children:[Object(h.jsx)(le,{}),Object(h.jsx)(Ie.Provider,{value:{usersFiltered:x},children:Object(h.jsxs)(j.c,{children:[Object(h.jsx)(j.a,{path:"/click-me",exact:!0,render:function(){return Object(h.jsx)(B,{})}}),Object(h.jsx)(j.a,{path:"/formulario",exact:!0,render:function(){return Object(h.jsx)(V,{})}}),Object(h.jsx)(j.a,{path:"/chat",exact:!0,render:function(){return Object(h.jsx)(X,{})}}),Object(h.jsx)(j.a,{path:"/chat/:idConver/:match",render:function(){return Object(h.jsx)(te,{})}}),Object(h.jsx)(j.a,{path:"/segundas-oportunidades",render:function(){return Object(h.jsx)(re,{})}}),Object(h.jsx)(j.a,{path:"/buscar",render:function(){return Object(h.jsx)(ce,{})}}),Object(h.jsx)(j.a,{path:"/peticiones",render:function(){return Object(h.jsx)(ne,{})}}),Object(h.jsx)(j.a,{path:"/perfil",render:function(){return Object(h.jsx)(ue,{})}}),Object(h.jsx)(j.a,{path:"/editar-perfil",render:function(){return Object(h.jsx)(k,{})}}),Object(h.jsx)(j.a,{path:"/todas",render:function(){return Object(h.jsx)(me,{})}}),Object(h.jsx)(j.a,{path:"/match/:id",render:function(){return Object(h.jsx)(fe,{})}}),Object(h.jsx)(j.a,{path:"/calendario",render:function(){return Object(h.jsx)(Ae,{})}}),Object(h.jsx)(j.a,{path:"/categoria/:category",render:function(){return Object(h.jsx)(he,{})}})]})}),Object(h.jsx)(ie,{})]})})},De=new u,_e=function(){var e=Object(a.useState)(null),t=Object(i.a)(e,2),c=t[0],n=t[1],s=function(e){return n(e)},r=function(){De.isloggedin().then((function(e){return s(e.data)})).catch((function(e){return s(null)}))};return Object(a.useEffect)((function(){r()}),[]),console.log("Usuario logueado _____>>>>>",c),Object(h.jsx)(h.Fragment,{children:Object(h.jsx)("main",{children:Object(h.jsx)(x,{value:{loggedUser:c,storeUser:s,fetchUser:r},children:null===c?Object(h.jsx)(E,{}):Object(h.jsx)(Fe,{})})})})};r.a.render(Object(h.jsx)(n.a.StrictMode,{children:Object(h.jsx)(b.a,{children:Object(h.jsx)(_e,{})})}),document.getElementById("root"))},96:function(e,t,c){},97:function(e,t,c){}},[[145,1,2]]]);
//# sourceMappingURL=main.a910975a.chunk.js.map